import{r as D,g as f,s as h,c as E}from"./main-DotZe2OH.js";import{g as C,F as k,o as r,h as c,w as g,l as L,i as o,a0 as G,P as M,y as b,U as V,N as x,ax as U,ay as X,r as w,aT as J,aV as O,aW as R,x as W,a4 as p,M as Y,J as j,B as m,O as z,a5 as H,aq as Q,X as Z,ac as oo,aL as eo,ae as ao,aY as ro,aX as no,a6 as to,a7 as co}from"./.pnpm-CQCJb2bg.js";const _o={getList:n=>D({method:"get",url:"form/list",params:n}),getDetail:n=>D({method:"get",url:"form/detail",params:{id:n}}),remove:n=>D({method:"get",url:"form/remove",params:{id:n}}),add:n=>D({method:"post",url:"form/add",data:n}),update:n=>D({method:"post",url:"form/update",data:n}),getTemplate:n=>D({method:"get",url:"/form/template",params:{id:n}})},lo=C({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(n){const _=n,{schema:t,formData:a}=k(_);return(s,u)=>{const v=G;return r(),c(v,{bodyStyle:{padding:0,"min-height":"40px"},title:o(t).controlProp.title,bordered:o(t).controlProp.bordered,hoverable:o(t).controlProp.hoverable},{default:g(()=>[L(K,{schema:o(t).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),so=C({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(n){const _=n,{schema:t,formData:a}=k(_),s=M(()=>24/t.value.controlProp.colNumber);return(u,v)=>{const y=U,d=X;return r(),c(d,{gutter:o(t).controlProp.gutter},{default:g(()=>[(r(!0),b(x,null,V(o(t).controlProp.children,(i,P)=>(r(),c(y,{class:"gutter-col",span:s.value,key:P},{default:g(()=>[L(K,{schema:i,formData:o(a)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),po=C({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(n){const _=n,{schema:t,formData:a}=k(_),s=w(""),u=w(J());return t.value.controlProp.defaultExpanded.value&&(s.value=u.value),(v,y)=>{const d=O,i=R;return r(),c(i,{activeKey:s.value,"onUpdate:activeKey":y[0]||(y[0]=P=>s.value=P),bordered:o(t).controlProp.bordered,ghost:o(t).controlProp.ghost},{default:g(()=>[(r(),c(d,{key:u.value,header:o(t).controlProp.title,showArrow:o(t).controlProp.showArrow},{default:g(()=>[L(K,{schema:o(t).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),K=C({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(n){const _=n,{schema:t,formData:a}=k(_),s=w([]),u=w({});(()=>{t.value.map(d=>{"dict"in d.controlProp&&s.value.push(d.controlProp.dict)})})();const y=()=>{s.value.length>0&&(s.value,E.getDict(s.value).then(d=>{const{code:i,data:P,msg:N}=d;i==200&&s.value.map(I=>{u.value[I]=P[I]})}))};return W(()=>{y()}),(d,i)=>{const P=z,N=H,I=Q,$=Z,q=oo,F=eo,A=ao,B=ro,S=no,T=to;return r(!0),b(x,null,V(o(t),e=>(r(),b(x,null,[["grid","card","collapse","divider"].includes(e.type)?(r(),b(x,{key:0},[e.type=="card"?(r(),c(lo,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="grid"?(r(),c(so,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="collapse"?(r(),c(po,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="divider"?(r(),c(P,m({key:3},e.controlProp,{key:e.name}),{default:g(()=>[Y(j(e.controlProp.title),1)]),_:2},1040)):p("",!0)],64)):(r(),c(T,{label:e.formItemProp.label,name:e.formItemProp.name,key:e.name,required:e.formItemProp.required},{default:g(()=>[e.type=="input"?(r(),c(N,m({key:0,value:o(f)(o(a),e.formItemProp.name),onChange:l=>o(h)(o(a),e.formItemProp.name,l.target.value)},e.controlProp),null,16,["value","onChange"])):p("",!0),e.type=="textarea"?(r(),c(I,m({key:1,value:o(f)(o(a),e.formItemProp.name),onChange:l=>o(h)(o(a),e.formItemProp.name,l.target.value)},e.controlProp),null,16,["value","onChange"])):p("",!0),e.type=="select"?(r(),c($,m({key:2,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:u.value[e.controlProp.dict],onChange:l=>o(h)(o(a),e.formItemProp.name,l)}),null,16,["value","options","onChange"])):p("",!0),e.type=="radio"?(r(),c(q,m({key:3,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:u.value[e.controlProp.dict],onChange:l=>o(h)(o(a),e.formItemProp.name,l.target.value)}),null,16,["value","options","onChange"])):p("",!0),e.type=="date"?(r(),c(F,m({key:4,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(h)(o(a),e.formItemProp.name,l)}),null,16,["value","onChange"])):p("",!0),e.type=="number"?(r(),c(A,m({key:5,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(h)(o(a),e.formItemProp.name,l)}),null,16,["value","onChange"])):p("",!0),e.type=="checkbox"?(r(),c(B,m({key:6,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:u.value[e.controlProp.dict],onChange:l=>o(h)(o(a),e.formItemProp.name,l)}),null,16,["value","options","onChange"])):p("",!0),e.type=="switch"?(r(),c(S,m({key:7,checked:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(h)(o(a),e.formItemProp.name,l)}),null,16,["checked","onChange"])):p("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),fo=C({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(n){const _=n,{schema:t,formData:a}=k(_);return(s,u)=>{const v=co;return r(),c(v,m({model:o(a)},o(t).formConfig),{default:g(()=>[L(K,{formData:o(a),schema:o(t).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{fo as _,_o as a};
