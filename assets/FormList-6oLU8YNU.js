import{a as S}from"./LowCodeForm.vue_vue_type_script_setup_true_lang-CdmvSCu0.js";import{d as Y,r as l,bf as Z,p as tt,q as m,f as t,w as e,$ as r,v as et,e as u,u as f,ck as ot,J as x,K as nt,H as at,I as k,bj as it,M as st,a as lt,cj as rt,o as i}from"./iconfont-DlnTACa0.js";import{_ as pt}from"./LowCodeFormId.vue_vue_type_script_setup_true_lang-DnljEEER.js";import{C as mt,_ as _t}from"./index-DWh7MMD2.js";import{M as ct}from"./index-rRoPRs5X.js";import{F as ut,_ as dt}from"./index-3zxQoAaC.js";import{I as ft}from"./index-DstlK8U5.js";import{B as yt,E as vt}from"./EyeOutlined-MSEk9XoR.js";import{S as kt,I as gt,D as Ct}from"./DeleteOutlined-WDiOh2q4.js";import{C as ht}from"./CopyOutlined-3xtYkmn1.js";import{T as xt}from"./index-CcL4KyIF.js";import{_ as wt,b as bt}from"./index-C5YNH3Jl.js";import{E as It}from"./EditOutlined-BzQG90gc.js";import{a as $t,_ as Ft}from"./index-BAbflK5K.js";import{_ as Dt}from"./index-5aalWurl.js";import{_ as Nt}from"./index-b8kqwElj.js";import{_ as Ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./v4-CtRu48qb.js";import"./index-DB-FIVCb.js";import"./useFlexGapSupport-CiVQ43IU.js";import"./_getPrototype-CreJcRG-.js";import"./initDefaultProps-CCuNUPvT.js";import"./RightOutlined-DiQ8sQL1.js";import"./tools-BCD5ohFr.js";import"./RadioButton-CjVxn_Oc.js";import"./CheckOutlined-DhghRCOv.js";import"./pickAttrs-C_Pg0-pd.js";import"./shallowequal-CYaRVoeZ.js";import"./index-Cj_T3PZy.js";import"./dayjs-78fL9Suk.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BZJkr9T5.js";import"./index-C6qv0Jk3.js";import"./index-8jXZgUEG.js";import"./index-ib-wLQfr.js";import"./index-DFAyz8EE.js";import"./index-CkgH7Yyy.js";import"./PlusOutlined-boFLuxir.js";import"./index-Df99mV5f.js";import"./ActionButton-GOh5bmF9.js";import"./cloneDeep-eMWwQ7HD.js";import"./Col-7N7sU2gK.js";import"./css-CjeDAR7Q.js";import"./LeftOutlined-DjA3wwZo.js";import"./index-DVHdQjvX.js";import"./useBreakpoint-BBubvWxm.js";import"./zh_CN-CAyhejr6.js";import"./dropdown-CS9IU7I3.js";import"./index-BJM6GpkM.js";const Tt={class:"form"},Bt={class:"tools"},Et={key:1},Lt={key:0,class:"contain"},Mt={key:0},St=Y({__name:"FormList",setup(Vt){const w=rt(),V=l([{title:"表单id",key:"id",dataIndex:"id",ellipsis:!0},{title:"表单名称",key:"name",dataIndex:"name"},{title:"预览图",key:"img",dataIndex:"img",width:150},{title:"状态",key:"status",dataIndex:"status",width:100},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"操作",key:"action",dataIndex:"action",width:"250px"}]),_=Z({keyword:"",pageNumber:1,pageSize:10}),y=l([]),b=l(0),I=l(!1),$=l(),j=()=>{var a;(a=$.value)==null||a.resetFields(),d()},R=()=>{lt.success("复制成功！")},v=l("table"),U=()=>{v.value=="table"?v.value="visual":v.value="table"},d=()=>{I.value=!0,S.getList(_).then(a=>{const{code:n,data:c}=a;n==200&&(y.value=c.data,b.value=c.total),I.value=!1})},q=()=>{const a=w.resolve({path:"/design/form"});window.open(a.href,"_blank")},F=a=>{const n=w.resolve({path:"/design/form",query:{id:a}});window.open(n.href,"_blank")},D=a=>{S.remove(a).then(n=>{const{code:c}=n;c==200&&d()})},g=l(!1),J=l({}),N=l(""),O=a=>{g.value=!0,N.value=a};return tt(()=>{d()}),(a,n)=>{const c=ft,z=dt,T=Ft,p=yt,A=$t,H=ut,C=mt,K=ot,B=gt,E=Nt,P=_t,L=xt,M=Dt,G=wt,Q=bt,W=ct,X=it("copy");return i(),m("div",Tt,[t(C,{class:"search-area"},{default:e(()=>[t(H,{ref_key:"searchFormRef",ref:$,model:_,onFinish:d},{default:e(()=>[t(A,{gutter:24},{default:e(()=>[t(T,{span:4},{default:e(()=>[t(z,{label:"表单名称",name:"keyword"},{default:e(()=>[t(c,{value:_.keyword,"onUpdate:value":n[0]||(n[0]=o=>_.keyword=o)},null,8,["value"])]),_:1})]),_:1}),t(T,{span:4,style:{"text-align":"right"}},{default:e(()=>[t(p,{type:"primary","html-type":"submit"},{default:e(()=>[r("搜索")]),_:1}),t(p,{style:{margin:"0 8px"},onClick:j},{default:e(()=>[r(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(C,null,{default:e(()=>[et("div",Bt,[t(p,{type:"primary",onClick:q},{default:e(()=>[r("新增")]),_:1}),t(p,{onClick:U,type:"link",style:{float:"right"}},{default:e(()=>[t(f(kt))]),_:1})]),y.value.length===0?(i(),u(K,{key:0})):(i(),m("div",Et,[v.value=="visual"?(i(),m("div",Lt,[(i(!0),m(x,null,nt(y.value,o=>(i(),u(C,{hoverable:!0,key:o.id},{cover:e(()=>[t(B,{src:o.img,height:"130px"},null,8,["src"])]),actions:e(()=>[t(f(vt),{key:"view",title:"预览",onClick:s=>O(o.id)},null,8,["onClick"]),t(f(It),{key:"edit",title:"编辑",onClick:s=>F(o.id)},null,8,["onClick"]),t(E,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:s=>D(o.id)},{default:e(()=>[t(f(Ct),{key:"delete",title:"删除"})]),_:2},1032,["onConfirm"])]),default:e(()=>[t(P,{title:o.name,description:o.description},null,8,["title","description"])]),_:2},1024))),128))])):(i(),u(G,{key:1,columns:V.value,"data-source":y.value,pagination:!1,scroll:{y:470}},{bodyCell:e(({column:o,record:s})=>[o.key=="id"?at((i(),m("span",Mt,[r(st(s.id)+" ",1),t(f(ht),{style:{cursor:"pointer"},onClick:n[1]||(n[1]=h=>R())})])),[[X,s.id]]):k("",!0),o.key=="status"?(i(),m(x,{key:1},[s.status?(i(),u(L,{key:0,color:"#87d068"},{default:e(()=>[r("启用")]),_:1})):(i(),u(L,{key:1,color:"#f50"},{default:e(()=>[r("停用")]),_:1}))],64)):k("",!0),o.key=="action"?(i(),m(x,{key:2},[t(p,{type:"link",onClick:h=>O(s.id)},{default:e(()=>[r("预览")]),_:2},1032,["onClick"]),t(M,{type:"vertical"}),t(p,{type:"link",onClick:h=>F(s.id)},{default:e(()=>[r("编辑")]),_:2},1032,["onClick"]),t(M,{type:"vertical"}),t(E,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:h=>D(s.id)},{default:e(()=>[t(p,{type:"link",danger:""},{default:e(()=>[r("删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):k("",!0),o.key=="img"?(i(),u(B,{key:3,src:s.img,height:"100px",width:"100%"},null,8,["src"])):k("",!0)]),_:1},8,["columns","data-source"]))])),t(Q,{style:{display:"flex","justify-content":"flex-end"},current:_.pageNumber,"onUpdate:current":n[2]||(n[2]=o=>_.pageNumber=o),total:b.value,"show-less-items":"",onChange:n[3]||(n[3]=o=>d())},null,8,["current","total"])]),_:1}),t(W,{open:g.value,"onUpdate:open":n[4]||(n[4]=o=>g.value=o),title:"预览",width:"1000px",height:"800px",footer:null},{default:e(()=>[t(pt,{formData:J.value,id:N.value},null,8,["formData","id"])]),_:1},8,["open"])])}}}),Ee=Ot(St,[["__scopeId","data-v-a4cd22ee"]]);export{Ee as default};
