function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/HorizontalSplitLayout-BoJERvL8.js","assets/iconfont-DlnTACa0.js","assets/iconfont-Coa9Wmnm.css","assets/LayoutOpt-CzJ5xFSQ.js","assets/index-CkgH7Yyy.js","assets/shallowequal-CYaRVoeZ.js","assets/index-Cj_T3PZy.js","assets/useFlexGapSupport-CiVQ43IU.js","assets/_getPrototype-CreJcRG-.js","assets/initDefaultProps-CCuNUPvT.js","assets/CheckOutlined-DhghRCOv.js","assets/index-Crav7g4x.js","assets/EyeOutlined-MSEk9XoR.js","assets/RightOutlined-DiQ8sQL1.js","assets/LeftOutlined-DjA3wwZo.js","assets/system-DnqZ--Gp.js","assets/user-BAAPXhVS.js","assets/index-BIgmw11B.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/index-BJM6GpkM.js","assets/SettingOutlined-CQftC2vP.js","assets/index-BKuSEOK0.js","assets/useBreakpoint-BBubvWxm.js","assets/index-C6qv0Jk3.js","assets/RadioButton-CjVxn_Oc.js","assets/index-DstlK8U5.js","assets/pickAttrs-C_Pg0-pd.js","assets/index-BFOsZcev.js","assets/LayoutOpt-GIyWET26.css","assets/HorizontalSplitLayout-ByABMPZ-.css","assets/VerticalStackLayout-Bml-dc8T.js","assets/VerticalStackLayout-CH7-Ftqi.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{P as ie,S as he,d as B,T as ge,U as R,F as d,p as be,V as ye,f as y,W as Q,X as ee,Y as we,Z as Se,_ as te,r as L,s as se,q as xe,w as W,$ as M,u as w,J as ke,o as D,k as oe,e as ae,y as $e,m as ne}from"./iconfont-DlnTACa0.js";import{u as ue}from"./system-DnqZ--Gp.js";import{S as j}from"./SchemaForm-D-gPt8Z_.js";import{_ as Ce}from"./index-5aalWurl.js";import{i as Oe}from"./tools-BCD5ohFr.js";import{d as ze,u as Ae,t as Te,a as We}from"./dayjs-78fL9Suk.js";import{i as Pe}from"./initDefaultProps-CCuNUPvT.js";import{_ as Ie}from"./index-Crav7g4x.js";import"./user-BAAPXhVS.js";import"./index-BIgmw11B.js";import"./utils-B6a3RfBT.js";/* empty css                   */import"./index-3zxQoAaC.js";import"./cloneDeep-eMWwQ7HD.js";import"./_getPrototype-CreJcRG-.js";import"./Col-7N7sU2gK.js";import"./useFlexGapSupport-CiVQ43IU.js";import"./EyeOutlined-MSEk9XoR.js";import"./index-DstlK8U5.js";import"./index-Cj_T3PZy.js";import"./index-ib-wLQfr.js";import"./CheckOutlined-DhghRCOv.js";import"./RadioButton-CjVxn_Oc.js";import"./pickAttrs-C_Pg0-pd.js";import"./shallowequal-CYaRVoeZ.js";import"./index-C6qv0Jk3.js";import"./index-DAYOQQPc.js";import"./index-8jXZgUEG.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-CcL4KyIF.js";function Ne(o){return o.replace(/([A-Z])/g,"-$1").toLowerCase()}function Re(o){return Object.keys(o).map(r=>`${Ne(r)}: ${o[r]};`).join(" ")}function re(){return window.devicePixelRatio||1}function E(o,r,l,n){o.translate(r,l),o.rotate(Math.PI/180*Number(n)),o.translate(-r,-l)}const Le=(o,r)=>{let l=!1;return o.removedNodes.length&&(l=Array.from(o.removedNodes).some(n=>n===r)),o.type==="attributes"&&o.target===r&&(l=!0),l};var Me=function(o,r){var l={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&r.indexOf(n)<0&&(l[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(o);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(o,n[s])&&(l[n[s]]=o[n[s]]);return l};function je(o,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{window:n=ze}=l,s=Me(l,["window"]);let u;const i=Ae(()=>n&&"MutationObserver"in n),v=()=>{u&&(u.disconnect(),u=void 0)},f=ie(()=>We(o),S=>{v(),i.value&&n&&S&&(u=new MutationObserver(r),u.observe(S,s))},{immediate:!0}),_=()=>{v(),f()};return Te(_),{isSupported:i,stop:_}}const F=2,le=3,Ee=()=>({zIndex:Number,rotate:Number,width:Number,height:Number,image:String,content:Se([String,Array]),font:we(),rootClassName:String,gap:ee(),offset:ee()}),Fe=B({name:"AWatermark",inheritAttrs:!1,props:Pe(Ee(),{zIndex:9,rotate:-22,font:{},gap:[100,100]}),setup(o,r){let{slots:l,attrs:n}=r;const[,s]=ge(),u=R(),i=R(),v=R(!1),f=d(()=>{var e,t;return(t=(e=o.gap)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:100}),_=d(()=>{var e,t;return(t=(e=o.gap)===null||e===void 0?void 0:e[1])!==null&&t!==void 0?t:100}),S=d(()=>f.value/2),$=d(()=>_.value/2),P=d(()=>{var e,t;return(t=(e=o.offset)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:S.value}),C=d(()=>{var e,t;return(t=(e=o.offset)===null||e===void 0?void 0:e[1])!==null&&t!==void 0?t:$.value}),O=d(()=>{var e,t;return(t=(e=o.font)===null||e===void 0?void 0:e.fontSize)!==null&&t!==void 0?t:s.value.fontSizeLG}),de=d(()=>{var e,t;return(t=(e=o.font)===null||e===void 0?void 0:e.fontWeight)!==null&&t!==void 0?t:"normal"}),ve=d(()=>{var e,t;return(t=(e=o.font)===null||e===void 0?void 0:e.fontStyle)!==null&&t!==void 0?t:"normal"}),V=d(()=>{var e,t;return(t=(e=o.font)===null||e===void 0?void 0:e.fontFamily)!==null&&t!==void 0?t:"sans-serif"}),fe=d(()=>{var e,t;return(t=(e=o.font)===null||e===void 0?void 0:e.color)!==null&&t!==void 0?t:s.value.colorFill}),pe=d(()=>{var e;const t={zIndex:(e=o.zIndex)!==null&&e!==void 0?e:9,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let a=P.value-S.value,m=C.value-$.value;return a>0&&(t.left=`${a}px`,t.width=`calc(100% - ${a}px)`,a=0),m>0&&(t.top=`${m}px`,t.height=`calc(100% - ${m}px)`,m=0),t.backgroundPosition=`${a}px ${m}px`,t}),X=()=>{i.value&&(i.value.remove(),i.value=void 0)},Y=(e,t)=>{var a;u.value&&i.value&&(v.value=!0,i.value.setAttribute("style",Re(te(te({},pe.value),{backgroundImage:`url('${e}')`,backgroundSize:`${(f.value+t)*F}px`}))),(a=u.value)===null||a===void 0||a.append(i.value),setTimeout(()=>{v.value=!1}))},_e=e=>{let t=120,a=64;const m=o.content,x=o.image,c=o.width,p=o.height;if(!x&&e.measureText){e.font=`${Number(O.value)}px ${V.value}`;const h=Array.isArray(m)?m:[m],g=h.map(b=>e.measureText(b).width);t=Math.ceil(Math.max(...g)),a=Number(O.value)*h.length+(h.length-1)*le}return[c??t,p??a]},U=(e,t,a,m,x)=>{const c=re(),p=o.content,h=Number(O.value)*c;e.font=`${ve.value} normal ${de.value} ${h}px/${x}px ${V.value}`,e.fillStyle=fe.value,e.textAlign="center",e.textBaseline="top",e.translate(m/2,0);const g=Array.isArray(p)?p:[p];g==null||g.forEach((b,z)=>{e.fillText(b??"",t,a+z*(h+le*c))})},I=()=>{var e;const t=document.createElement("canvas"),a=t.getContext("2d"),m=o.image,x=(e=o.rotate)!==null&&e!==void 0?e:-22;if(a){i.value||(i.value=document.createElement("div"));const c=re(),[p,h]=_e(a),g=(f.value+p)*c,b=(_.value+h)*c;t.setAttribute("width",`${g*F}px`),t.setAttribute("height",`${b*F}px`);const z=f.value*c/2,N=_.value*c/2,A=p*c,T=h*c,H=(A+f.value*c)/2,G=(T+_.value*c)/2,Z=z+g,q=N+b,J=H+g,K=G+b;if(a.save(),E(a,H,G,x),m){const k=new Image;k.onload=()=>{a.drawImage(k,z,N,A,T),a.restore(),E(a,J,K,x),a.drawImage(k,Z,q,A,T),Y(t.toDataURL(),p)},k.crossOrigin="anonymous",k.referrerPolicy="no-referrer",k.src=m}else U(a,z,N,A,T),a.restore(),E(a,J,K,x),U(a,Z,q,A,T),Y(t.toDataURL(),p)}};return be(()=>{I()}),ie(()=>[o,s.value.colorFill,s.value.fontSizeLG],()=>{I()},{deep:!0,flush:"post"}),ye(()=>{X()}),je(u,e=>{v.value||e.forEach(t=>{Le(t,i.value)&&(X(),I())})},{attributes:!0,subtree:!0,childList:!0,attributeFilter:["style","class"]}),()=>{var e;return y("div",Q(Q({},n),{},{ref:u,class:[n.class,o.rootClassName],style:[{position:"relative"},n.style]}),[(e=l.default)===null||e===void 0?void 0:e.call(l)])}}}),De=he(Fe);var ce=(o=>(o.horizontal="horizontal",o.vertical="vertical",o))(ce||{}),me=(o=>(o.light="light",o.dark="dark",o))(me||{});const Be=B({__name:"LayoutThemeCfg",setup(o){const r=L({layout:{labelAlign:"left",layout:"horizontal",labelCol:{style:{width:"100px"}}},properties:{colorPrimary:{type:"string",label:"主题色",component:{name:"color-picker"}},layoutMode:{type:"radio",label:"布局方式",component:{buttonStyle:"solid",dataSource:Object.entries(ce).map(([i,v])=>({value:v,label:i}))}}}}),l=L({layout:{labelAlign:"left",layout:"horizontal",labelCol:{style:{width:"80px"}}},properties:{headerBgColor:{type:"string",label:"背景色",component:{name:"color-picker"}},headerFontColor:{type:"string",label:"字体颜色",component:{name:"color-picker"}}}}),n=L({layout:{labelAlign:"left",layout:"horizontal",labelCol:{style:{width:"80px"}}},properties:{menuTheme:{type:"radio",label:"主题",component:{buttonStyle:"solid",dataSource:Object.entries(me).map(([i,v])=>({value:v,label:i}))}}}}),s=ue(),{themeCfg:u}=se(s);return(i,v)=>{const f=Ce;return D(),xe(ke,null,[y(f,null,{default:W(()=>[M("主题配置")]),_:1}),y(w(j),{schema:r.value,"form-data":w(u),size:"small"},null,8,["schema","form-data"]),y(f,null,{default:W(()=>[M("顶栏配置")]),_:1}),y(w(j),{schema:l.value,"form-data":w(u)},null,8,["schema","form-data"]),y(f,null,{default:W(()=>[M("菜单配置")]),_:1}),y(w(j),{schema:n.value,"form-data":w(u)},null,8,["schema","form-data"])],64)}}}),yt=B({__name:"LayoutView",setup(o){const r=ue(),{isConfigVisible:l,themeCfg:n,systemSetting:s,userInfo:u}=se(r),{onCloseConfigDrawer:i,startUp:v}=r,f=d(()=>S[n.value.layoutMode]),_=d(()=>{const{projectWatermark:$}=s.value,{username:P,name:C}=u.value;return Oe($)?`${P}(${C})`:""}),S={horizontal:oe(()=>ne(()=>import("./HorizontalSplitLayout-BoJERvL8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),vertical:oe(()=>ne(()=>import("./VerticalStackLayout-Bml-dc8T.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31])))};return v(),($,P)=>{const C=Ie,O=De;return D(),ae(O,{content:_.value},{default:W(()=>[(D(),ae($e(f.value))),y(C,{width:300,placement:"right",open:w(l),onClose:w(i),closable:!1,bodyStyle:{padding:"0 12px"}},{default:W(()=>[y(Be)]),_:1},8,["open","onClose"])]),_:1},8,["content"])}}});export{yt as default};
