import{f as o,bW as g,cn as U,bV as $,d as B,s as k,bf as N,r as q,p as A,q as T,v as l,u,M as S,w as c,x as E,bR as H,$ as D,E as I,o as R,co as F,cp as W}from"./iconfont-DlnTACa0.js";import{u as G}from"./system-DnqZ--Gp.js";import{F as J,_ as Q}from"./index-3zxQoAaC.js";import{B as X}from"./EyeOutlined-MSEk9XoR.js";import{I as Y,a as Z}from"./index-DstlK8U5.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-BAAPXhVS.js";import"./index-BIgmw11B.js";import"./cloneDeep-eMWwQ7HD.js";import"./_getPrototype-CreJcRG-.js";import"./Col-7N7sU2gK.js";import"./useFlexGapSupport-CiVQ43IU.js";import"./initDefaultProps-CCuNUPvT.js";import"./index-Cj_T3PZy.js";var ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function w(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){te(r,a,t[a])})}return r}function te(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var _=function(e,t){var n=w({},e,t.attrs);return o(g,w({},n,{icon:ee}),null)};_.displayName="LockOutlined";_.inheritAttrs=!1;var re={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"};function j(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){ne(r,a,t[a])})}return r}function ne(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var v=function(e,t){var n=j({},e,t.attrs);return o(g,j({},n,{icon:re}),null)};v.displayName="SafetyOutlined";v.inheritAttrs=!1;var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function P(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){oe(r,a,t[a])})}return r}function oe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var h=function(e,t){var n=P({},e,t.attrs);return o(g,P({},n,{icon:ae}),null)};h.displayName="UserOutlined";h.inheritAttrs=!1;const L={login:r=>$({method:"post",url:"/auth/login",data:r}),getCaptcha:()=>U({baseURL:"/prod",method:"get",url:"/auth/captcha"})},se={class:"login"},ce={class:"login-container"},ie={class:"login-form"},le={class:"project-header"},ue=["src"],pe={class:"project-title"},me=["innerHTML"],de={class:"version"},fe=B({__name:"LoginView",setup(r){I(m=>({"10cf654e":u(n).colorPrimary}));const e=G(),{startUp:t}=e,{themeCfg:n,systemSetting:a,menuTree:x}=k(e),i=N({username:"test",password:"test",captcha:""}),{setToken:V}=F(),b=()=>{L.login(i).then(m=>{const{code:s,data:d}=m;s==200&&(V(d),t().then(()=>{W(x.value[0])}))})},O=q(""),y=async()=>{const{data:m}=await L.getCaptcha();O.value=m};return A(()=>{y()}),(m,s)=>{const d=Y,f=Q,M=Z,z=J,C=X;return R(),T("div",se,[l("div",{class:"login-bg",style:E({background:`url(${u(a).projectBgUrl})`,backgroundSize:"100% 100%"})},[l("div",ce,[l("div",ie,[l("div",le,[l("img",{src:u(a).projectLogo,alt:"",srcset:"",class:"project-logo"},null,8,ue),l("div",pe,S(u(a).projectName),1)]),o(z,{model:i,aligin:"left",hideRequiredMark:""},{default:c(()=>[o(f,{name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:c(()=>[o(d,{value:i.username,"onUpdate:value":s[0]||(s[0]=p=>i.username=p),placeholder:"请输入账号"},{prefix:c(()=>[o(u(h))]),_:1},8,["value"])]),_:1}),o(f,{name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:c(()=>[o(M,{value:i.password,"onUpdate:value":s[1]||(s[1]=p=>i.password=p),placeholder:"请输入密码"},{prefix:c(()=>[o(u(_))]),_:1},8,["value"])]),_:1}),o(f,{name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:c(()=>[o(d,{value:i.captcha,"onUpdate:value":s[3]||(s[3]=p=>i.captcha=p),placeholder:"请输入验证码",onKeyup:H(b,["enter"])},{prefix:c(()=>[o(u(v))]),addonAfter:c(()=>[l("div",{innerHTML:O.value,onClick:s[2]||(s[2]=p=>y()),style:{height:"100%"}},null,8,me)]),_:1},8,["value"])]),_:1})]),_:1},8,["model"]),o(C,{type:"primary","html-type":"submit",style:{width:"100%"},onClick:b},{default:c(()=>[D(" 登录 ")]),_:1})])]),l("div",de,S(u(a).projectVersion),1)],4)])}}}),Me=K(fe,[["__scopeId","data-v-e76ed62b"]]);export{Me as default};
