import{_ as dn,R as ve,b as cn,L as un}from"./RadioButton-CjVxn_Oc.js";import{U as H,bM as Ke,d as Ne,bb as Nt,F as N,aQ as Pt,f as E,cl as Se,_ as k,bf as It,aH as fn,p as Tt,b9 as vn,W as ae,cd as ge,c3 as yn,cH as hn,r as Fe,c8 as _t,c9 as Lt,c6 as Mt,ca as Be,cE as at,P as xe,V as pn,ae as gn,H as bn,N as mn,O as At,J as Kn,b8 as Sn,t as tt,bW as Re,c1 as xn,c2 as wn,an as kn}from"./iconfont-DlnTACa0.js";import{a5 as Cn,I as Ft,c as $n,g as On}from"./useFlexGapSupport-CiVQ43IU.js";import{p as Bt}from"./pickAttrs-C_Pg0-pd.js";import{i as En}from"./initDefaultProps-CCuNUPvT.js";import{K as $e}from"./CheckOutlined-DhghRCOv.js";function se(e){const t=H();return Ke(()=>{t.value=e()},{flush:"sync"}),t}ve.Group=dn;ve.Button=cn;ve.install=function(e){return e.component(ve.name,ve),e.component(ve.Group.name,ve.Group),e.component(ve.Button.name,ve.Button),e};const jt=Symbol("TreeContextKey"),Dn=Ne({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Nt(jt,N(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),rt=()=>Pt(jt,N(()=>({}))),Ht=Symbol("KeysStateKey"),Nn=e=>{Nt(Ht,e)},Rt=()=>Pt(Ht,{expandedKeys:H([]),selectedKeys:H([]),loadedKeys:H([]),loadingKeys:H([]),checkedKeys:H([]),halfCheckedKeys:H([]),expandedKeysSet:N(()=>new Set),selectedKeysSet:N(()=>new Set),loadedKeysSet:N(()=>new Set),loadingKeysSet:N(()=>new Set),checkedKeysSet:N(()=>new Set),halfCheckedKeysSet:N(()=>new Set),flattenNodes:H([])}),Pn=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const s=`${t}-indent-unit`,l=[];for(let v=0;v<n;v+=1)l.push(E("span",{key:v,class:{[s]:!0,[`${s}-start`]:o[v],[`${s}-end`]:a[v]}},null));return E("span",{"aria-hidden":"true",class:`${t}-indent`},[l])},zt={eventKey:[String,Number],prefixCls:String,title:Se.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Se.any,switcherIcon:Se.any,domRef:{type:Function}},In={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Tn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Se.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Se.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Se.any,switcherIcon:Se.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var _n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const vt="open",yt="close",Ln="---",ht=Ne({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:zt,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Cn(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(r=>"`v-slot:"+r+"` ")}instead`);const s=H(!1),l=rt(),{expandedKeysSet:v,selectedKeysSet:g,loadedKeysSet:f,loadingKeysSet:y,checkedKeysSet:h,halfCheckedKeysSet:b}=Rt(),{dragOverNodeKey:m,dropPosition:C,keyEntities:p}=l.value,w=N(()=>je(e.eventKey,{expandedKeysSet:v.value,selectedKeysSet:g.value,loadedKeysSet:f.value,loadingKeysSet:y.value,checkedKeysSet:h.value,halfCheckedKeysSet:b.value,dragOverNodeKey:m,dropPosition:C,keyEntities:p})),K=se(()=>w.value.expanded),M=se(()=>w.value.selected),L=se(()=>w.value.checked),P=se(()=>w.value.loaded),I=se(()=>w.value.loading),U=se(()=>w.value.halfChecked),q=se(()=>w.value.dragOver),F=se(()=>w.value.dragOverGapTop),R=se(()=>w.value.dragOverGapBottom),X=se(()=>w.value.pos),V=H(),ne=N(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{children:A}=c[r]||{};return!!(A||[]).length}),Q=N(()=>{const{isLeaf:r}=e,{loadData:c}=l.value,A=ne.value;return r===!1?!1:r||!c&&!A||c&&P.value&&!A}),ye=N(()=>Q.value?null:K.value?vt:yt),le=N(()=>{const{disabled:r}=e,{disabled:c}=l.value;return!!(c||r)}),ke=N(()=>{const{checkable:r}=e,{checkable:c}=l.value;return!c||r===!1?!1:c}),re=N(()=>{const{selectable:r}=e,{selectable:c}=l.value;return typeof r=="boolean"?r:c}),z=N(()=>{const{data:r,active:c,checkable:A,disableCheckbox:W,disabled:Y,selectable:J}=e;return k(k({active:c,checkable:A,disableCheckbox:W,disabled:Y,selectable:J},r),{dataRef:r,data:r,isLeaf:Q.value,checked:L.value,expanded:K.value,loading:I.value,selected:M.value,halfChecked:U.value})}),de=fn(),G=N(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{parent:A}=c[r]||{};return k(k({},He(k({},e,w.value))),{parent:A})}),Z=It({eventData:G,eventKey:N(()=>e.eventKey),selectHandle:V,pos:X,key:de.vnode.key});a(Z);const oe=r=>{const{onNodeDoubleClick:c}=l.value;c(r,G.value)},ce=r=>{if(le.value)return;const{onNodeSelect:c}=l.value;r.preventDefault(),c(r,G.value)},be=r=>{if(le.value)return;const{disableCheckbox:c}=e,{onNodeCheck:A}=l.value;if(!ke.value||c)return;r.preventDefault();const W=!L.value;A(r,G.value,W)},Ce=r=>{const{onNodeClick:c}=l.value;c(r,G.value),re.value?ce(r):be(r)},Oe=r=>{const{onNodeMouseEnter:c}=l.value;c(r,G.value)},ze=r=>{const{onNodeMouseLeave:c}=l.value;c(r,G.value)},Ve=r=>{const{onNodeContextMenu:c}=l.value;c(r,G.value)},Ge=r=>{const{onNodeDragStart:c}=l.value;r.stopPropagation(),s.value=!0,c(r,Z);try{r.dataTransfer.setData("text/plain","")}catch{}},We=r=>{const{onNodeDragEnter:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Z)},qe=r=>{const{onNodeDragOver:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Z)},Ie=r=>{const{onNodeDragLeave:c}=l.value;r.stopPropagation(),c(r,Z)},Xe=r=>{const{onNodeDragEnd:c}=l.value;r.stopPropagation(),s.value=!1,c(r,Z)},Ue=r=>{const{onNodeDrop:c}=l.value;r.preventDefault(),r.stopPropagation(),s.value=!1,c(r,Z)},Te=r=>{const{onNodeExpand:c}=l.value;I.value||c(r,G.value)},_e=()=>{const{data:r}=e,{draggable:c}=l.value;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(r)))},Le=()=>{const{draggable:r,prefixCls:c}=l.value;return r&&(r!=null&&r.icon)?E("span",{class:`${c}-draggable-icon`},[r.icon]):null},Ye=()=>{var r,c,A;const{switcherIcon:W=o.switcherIcon||((r=l.value.slots)===null||r===void 0?void 0:r[(A=(c=e.data)===null||c===void 0?void 0:c.slots)===null||A===void 0?void 0:A.switcherIcon])}=e,{switcherIcon:Y}=l.value,J=W||Y;return typeof J=="function"?J(z.value):J},Me=()=>{const{loadData:r,onNodeLoad:c}=l.value;I.value||r&&K.value&&!Q.value&&!ne.value&&!P.value&&c(G.value)};Tt(()=>{Me()}),vn(()=>{Me()});const Je=()=>{const{prefixCls:r}=l.value,c=Ye();if(Q.value)return c!==!1?E("span",{class:ge(`${r}-switcher`,`${r}-switcher-noop`)},[c]):null;const A=ge(`${r}-switcher`,`${r}-switcher_${K.value?vt:yt}`);return c!==!1?E("span",{onClick:Te,class:A},[c]):null},Qe=()=>{var r,c;const{disableCheckbox:A}=e,{prefixCls:W}=l.value,Y=le.value;return ke.value?E("span",{class:ge(`${W}-checkbox`,L.value&&`${W}-checkbox-checked`,!L.value&&U.value&&`${W}-checkbox-indeterminate`,(Y||A)&&`${W}-checkbox-disabled`),onClick:be},[(c=(r=l.value).customCheckable)===null||c===void 0?void 0:c.call(r)]):null},Ae=()=>{const{prefixCls:r}=l.value;return E("span",{class:ge(`${r}-iconEle`,`${r}-icon__${ye.value||"docu"}`,I.value&&`${r}-icon_loading`)},null)},me=()=>{const{disabled:r,eventKey:c}=e,{draggable:A,dropLevelOffset:W,dropPosition:Y,prefixCls:J,indent:i,dropIndicatorRender:d,dragOverNodeKey:u,direction:x}=l.value;return!r&&A!==!1&&u===c?d({dropPosition:Y,dropLevelOffset:W,indent:i,prefixCls:J,direction:x}):null},Ze=()=>{var r,c,A,W,Y,J;const{icon:i=o.icon,data:d}=e,u=o.title||((r=l.value.slots)===null||r===void 0?void 0:r[(A=(c=e.data)===null||c===void 0?void 0:c.slots)===null||A===void 0?void 0:A.title])||((W=l.value.slots)===null||W===void 0?void 0:W.title)||e.title,{prefixCls:x,showIcon:O,icon:$,loadData:S}=l.value,T=le.value,j=`${x}-node-content-wrapper`;let D;if(O){const ee=i||((Y=l.value.slots)===null||Y===void 0?void 0:Y[(J=d==null?void 0:d.slots)===null||J===void 0?void 0:J.icon])||$;D=ee?E("span",{class:ge(`${x}-iconEle`,`${x}-icon__customize`)},[typeof ee=="function"?ee(z.value):ee]):Ae()}else S&&I.value&&(D=Ae());let _;typeof u=="function"?_=u(z.value):_=u,_=_===void 0?Ln:_;const B=E("span",{class:`${x}-title`},[_]);return E("span",{ref:V,title:typeof u=="string"?u:"",class:ge(`${j}`,`${j}-${ye.value||"normal"}`,!T&&(M.value||s.value)&&`${x}-node-selected`),onMouseenter:Oe,onMouseleave:ze,onContextmenu:Ve,onClick:Ce,onDblclick:oe},[D,B,me()])};return()=>{const r=k(k({},e),n),{eventKey:c,isLeaf:A,isStart:W,isEnd:Y,domRef:J,active:i,data:d,onMousemove:u,selectable:x}=r,O=_n(r,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:$,filterTreeNode:S,keyEntities:T,dropContainerKey:j,dropTargetKey:D,draggingNodeKey:_}=l.value,B=le.value,ee=Bt(O,{aria:!0,data:!0}),{level:ue}=T[c]||{},ie=Y[Y.length-1],te=_e(),he=!B&&te,Ee=_===c,et=x!==void 0?{"aria-selected":!!x}:void 0;return E("div",ae(ae({ref:J,class:ge(n.class,`${$}-treenode`,{[`${$}-treenode-disabled`]:B,[`${$}-treenode-switcher-${K.value?"open":"close"}`]:!A,[`${$}-treenode-checkbox-checked`]:L.value,[`${$}-treenode-checkbox-indeterminate`]:U.value,[`${$}-treenode-selected`]:M.value,[`${$}-treenode-loading`]:I.value,[`${$}-treenode-active`]:i,[`${$}-treenode-leaf-last`]:ie,[`${$}-treenode-draggable`]:he,dragging:Ee,"drop-target":D===c,"drop-container":j===c,"drag-over":!B&&q.value,"drag-over-gap-top":!B&&F.value,"drag-over-gap-bottom":!B&&R.value,"filter-node":S&&S(G.value)}),style:n.style,draggable:he,"aria-grabbed":Ee,onDragstart:he?Ge:void 0,onDragenter:te?We:void 0,onDragover:te?qe:void 0,onDragleave:te?Ie:void 0,onDrop:te?Ue:void 0,onDragend:te?Xe:void 0,onMousemove:u},et),ee),[E(Pn,{prefixCls:$,level:ue,isStart:W,isEnd:Y},null),Le(),Je(),Qe(),Ze()])}}});function fe(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function pe(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function it(e){return e.split("-")}function Vt(e,t){return`${e}-${t}`}function Mn(e){return e&&e.type&&e.type.isTreeNode}function An(e,t){const n=[],o=t[e];function a(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(l=>{let{key:v,children:g}=l;n.push(v),a(g)})}return a(o.children),n}function Fn(e){if(e.parent){const t=it(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Bn(e){const t=it(e.pos);return Number(t[t.length-1])===0}function pt(e,t,n,o,a,s,l,v,g,f){var y;const{clientX:h,clientY:b}=e,{top:m,height:C}=e.target.getBoundingClientRect(),w=((f==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-h)-12)/o;let K=v[n.eventKey];if(b<m+C/2){const X=l.findIndex(Q=>Q.key===K.key),V=X<=0?0:X-1,ne=l[V].key;K=v[ne]}const M=K.key,L=K,P=K.key;let I=0,U=0;if(!g.has(M))for(let X=0;X<w&&Fn(K);X+=1)K=K.parent,U+=1;const q=t.eventData,F=K.node;let R=!0;return Bn(K)&&K.level===0&&b<m+C/2&&s({dragNode:q,dropNode:F,dropPosition:-1})&&K.key===n.eventKey?I=-1:(L.children||[]).length&&g.has(P)?s({dragNode:q,dropNode:F,dropPosition:0})?I=0:R=!1:U===0?w>-1.5?s({dragNode:q,dropNode:F,dropPosition:1})?I=1:R=!1:s({dragNode:q,dropNode:F,dropPosition:0})?I=0:s({dragNode:q,dropNode:F,dropPosition:1})?I=1:R=!1:s({dragNode:q,dropNode:F,dropPosition:1})?I=1:R=!1,{dropPosition:I,dropLevelOffset:U,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:P,dropContainerKey:I===0?null:((y=K.parent)===null||y===void 0?void 0:y.key)||null,dropAllowed:R}}function gt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function nt(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function bt(e,t){const n=new Set;function o(a){if(n.has(a))return;const s=t[a];if(!s)return;n.add(a);const{parent:l,node:v}=s;v.disabled||l&&o(l.key)}return(e||[]).forEach(a=>{o(a)}),[...n]}var jn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};function Pe(e,t){return e??t}function st(e){const{title:t,_title:n,key:o,children:a}=e||{},s=t||"title";return{title:s,_title:n||[s],key:o||"key",children:a||"children"}}function Hn(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return yn(n).map(a=>{var s,l,v,g;if(!Mn(a))return null;const f=a.children||{},y=a.key,h={};for(const[X,V]of Object.entries(a.props))h[hn(X)]=V;const{isLeaf:b,checkable:m,selectable:C,disabled:p,disableCheckbox:w}=h,K={isLeaf:b||b===""||void 0,checkable:m||m===""||void 0,selectable:C||C===""||void 0,disabled:p||p===""||void 0,disableCheckbox:w||w===""||void 0},M=k(k({},h),K),{title:L=(s=f.title)===null||s===void 0?void 0:s.call(f,M),icon:P=(l=f.icon)===null||l===void 0?void 0:l.call(f,M),switcherIcon:I=(v=f.switcherIcon)===null||v===void 0?void 0:v.call(f,M)}=h,U=jn(h,["title","icon","switcherIcon"]),q=(g=f.default)===null||g===void 0?void 0:g.call(f),F=k(k(k({},U),{title:L,icon:P,switcherIcon:I,key:y,isLeaf:b}),K),R=t(q);return R.length&&(F.children=R),F})}return t(e)}function Rn(e,t,n){const{_title:o,key:a,children:s}=st(n),l=new Set(t===!0?[]:t),v=[];function g(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f.map((h,b)=>{const m=Vt(y?y.pos:"0",b),C=Pe(h[a],m);let p;for(let K=0;K<o.length;K+=1){const M=o[K];if(h[M]!==void 0){p=h[M];break}}const w=k(k({},Ft(h,[...o,a,s])),{title:p,key:C,parent:y,pos:m,children:null,data:h,isStart:[...y?y.isStart:[],b===0],isEnd:[...y?y.isEnd:[],b===f.length-1]});return v.push(w),t===!0||l.has(C)?w.children=g(h[s]||[],w):w.children=[],w})}return g(e),v}function zn(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:s,fieldNames:l}=o,{key:v,children:g}=st(l),f=a||g;let y;s?typeof s=="string"?y=b=>b[s]:typeof s=="function"&&(y=b=>s(b)):y=(b,m)=>Pe(b[v],m);function h(b,m,C,p){const w=b?b[f]:e,K=b?Vt(C.pos,m):"0",M=b?[...p,b]:[];if(b){const L=y(b,K),P={node:b,index:m,pos:K,key:L,parentPos:C.node?C.pos:null,level:C.level+1,nodes:M};t(P)}w&&w.forEach((L,P)=>{h(L,P,{node:b,pos:K,level:C?C.level+1:-1},M)})}h(null)}function Vn(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:s,fieldNames:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2?arguments[2]:void 0;const g=a||v,f={},y={};let h={posEntities:f,keyEntities:y};return t&&(h=t(h)||h),zn(e,b=>{const{node:m,index:C,pos:p,key:w,parentPos:K,level:M,nodes:L}=b,P={node:m,nodes:L,index:C,key:w,pos:p,level:M},I=Pe(w,p);f[p]=P,y[I]=P,P.parent=f[K],P.parent&&(P.parent.children=P.parent.children||[],P.parent.children.push(P)),n&&n(P,h)},{externalGetKey:g,childrenPropName:s,fieldNames:l}),o&&o(h),h}function je(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:s,checkedKeysSet:l,halfCheckedKeysSet:v,dragOverNodeKey:g,dropPosition:f,keyEntities:y}=t;const h=y[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:s.has(e),checked:l.has(e),halfChecked:v.has(e),pos:String(h?h.pos:""),parent:h.parent,dragOver:g===e&&f===0,dragOverGapTop:g===e&&f===-1,dragOverGapBottom:g===e&&f===1}}function He(e){const{data:t,expanded:n,selected:o,checked:a,loaded:s,loading:l,halfChecked:v,dragOver:g,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m}=e,C=k(k({dataRef:t},t),{expanded:n,selected:o,checked:a,loaded:s,loading:l,halfChecked:v,dragOver:g,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m,key:m});return"props"in C||Object.defineProperty(C,"props",{get(){return e}}),C}function Gt(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function Gn(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function Wn(e,t,n,o){const a=new Set(e),s=new Set;for(let v=0;v<=n;v+=1)(t.get(v)||new Set).forEach(f=>{const{key:y,node:h,children:b=[]}=f;a.has(y)&&!o(h)&&b.filter(m=>!o(m.node)).forEach(m=>{a.add(m.key)})});const l=new Set;for(let v=n;v>=0;v-=1)(t.get(v)||new Set).forEach(f=>{const{parent:y,node:h}=f;if(o(h)||!f.parent||l.has(f.parent.key))return;if(o(f.parent.node)){l.add(y.key);return}let b=!0,m=!1;(y.children||[]).filter(C=>!o(C.node)).forEach(C=>{let{key:p}=C;const w=a.has(p);b&&!w&&(b=!1),!m&&(w||s.has(p))&&(m=!0)}),b&&a.add(y.key),m&&s.add(y.key),l.add(y.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Gt(s,a))}}function qn(e,t,n,o,a){const s=new Set(e);let l=new Set(t);for(let g=0;g<=o;g+=1)(n.get(g)||new Set).forEach(y=>{const{key:h,node:b,children:m=[]}=y;!s.has(h)&&!l.has(h)&&!a(b)&&m.filter(C=>!a(C.node)).forEach(C=>{s.delete(C.key)})});l=new Set;const v=new Set;for(let g=o;g>=0;g-=1)(n.get(g)||new Set).forEach(y=>{const{parent:h,node:b}=y;if(a(b)||!y.parent||v.has(y.parent.key))return;if(a(y.parent.node)){v.add(h.key);return}let m=!0,C=!1;(h.children||[]).filter(p=>!a(p.node)).forEach(p=>{let{key:w}=p;const K=s.has(w);m&&!K&&(m=!1),!C&&(K||l.has(w))&&(C=!0)}),m||s.delete(h.key),C&&l.add(h.key),v.add(h.key)});return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Gt(l,s))}}function ot(e,t,n,o,a,s){let l;s?l=s:l=Gn;const v=new Set(e.filter(f=>!!n[f]));let g;return t===!0?g=Wn(v,a,o,l):g=qn(v,t.halfCheckedKeys,a,o,l),g}function Xn(e){const t=Fe(0),n=H();return Ke(()=>{const o=new Map;let a=0;const s=e.value||{};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const v=s[l],{level:g}=v;let f=o.get(g);f||(f=new Set,o.set(g,f)),f.add(v),a=Math.max(a,g)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}const Un=new Mt("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Yn=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:k(k({},Be(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:k(k({},Be(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:k(k({},Be(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:k({},at(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[t]:{"&-indeterminate":{[`${t}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${t}:after`]:{visibility:"visible"},[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:Un,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Wt(e,t){const n=Lt(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Yn(n)]}const Co=_t("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[Wt(n,e)]});var mt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Jn=Ne({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:k(k({},zt),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=H(!0),s=rt(),l=H(!1),v=N(()=>e.motion?e.motion:$n()),g=(f,y)=>{var h,b,m,C;y==="appear"?(b=(h=v.value)===null||h===void 0?void 0:h.onAfterEnter)===null||b===void 0||b.call(h,f):y==="leave"&&((C=(m=v.value)===null||m===void 0?void 0:m.onAfterLeave)===null||C===void 0||C.call(m,f)),l.value||e.onMotionEnd(),l.value=!0};return xe(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&At(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Tt(()=>{e.motionNodes&&e.onMotionStart()}),pn(()=>{e.motionNodes&&g()}),()=>{const{motion:f,motionNodes:y,motionType:h,active:b,eventKey:m}=e,C=mt(e,["motion","motionNodes","motionType","active","eventKey"]);return y?E(gn,ae(ae({},v.value),{},{appear:h==="show",onAfterAppear:p=>g(p,"appear"),onAfterLeave:p=>g(p,"leave")}),{default:()=>[bn(E("div",{class:`${s.value.prefixCls}-treenode-motion`},[y.map(p=>{const w=mt(p.data,[]),{title:K,key:M,isStart:L,isEnd:P}=p;return delete w.children,E(ht,ae(ae({},w),{},{title:K,active:b,data:p.data,key:M,eventKey:M,isStart:L,isEnd:P}),o)})]),[[mn,a.value]])]}):E(ht,ae(ae({class:n.class,style:n.style},C),{},{active:b,eventKey:m}),o)}}});function Qn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(s,l){const v=new Map;s.forEach(f=>{v.set(f,!0)});const g=l.filter(f=>!v.has(f));return g.length===1?g[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function Kt(e,t,n){const o=e.findIndex(l=>l.key===n),a=e[o+1],s=t.findIndex(l=>l.key===n);if(a){const l=t.findIndex(v=>v.key===a.key);return t.slice(s+1,l)}return t.slice(s+1)}var St=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const xt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Zn=()=>{},we=`RC_TREE_MOTION_${Math.random()}`,lt={key:we},qt={key:we,level:0,index:0,pos:"0",node:lt,nodes:[lt]},wt={parent:null,children:[],pos:qt.pos,data:lt,title:null,key:we,isStart:[],isEnd:[]};function kt(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function Ct(e){const{key:t,pos:n}=e;return Pe(t,n)}function eo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const to=Ne({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:In,setup(e,t){let{expose:n,attrs:o}=t;const a=Fe(),s=Fe(),{expandedKeys:l,flattenNodes:v}=Rt();n({scrollTo:p=>{a.value.scrollTo(p)},getIndentWidth:()=>s.value.offsetWidth});const g=H(v.value),f=H([]),y=Fe(null);function h(){g.value=v.value,f.value=[],y.value=null,e.onListChangeEnd()}const b=rt();xe([()=>l.value.slice(),v],(p,w)=>{let[K,M]=p,[L,P]=w;const I=Qn(L,K);if(I.key!==null){const{virtual:U,height:q,itemHeight:F}=e;if(I.add){const R=P.findIndex(ne=>{let{key:Q}=ne;return Q===I.key}),X=kt(Kt(P,M,I.key),U,q,F),V=P.slice();V.splice(R+1,0,wt),g.value=V,f.value=X,y.value="show"}else{const R=M.findIndex(ne=>{let{key:Q}=ne;return Q===I.key}),X=kt(Kt(M,P,I.key),U,q,F),V=M.slice();V.splice(R+1,0,wt),g.value=V,f.value=X,y.value="hide"}}else P!==M&&(g.value=M)}),xe(()=>b.value.dragging,p=>{p||h()});const m=N(()=>e.motion===void 0?g.value:v.value),C=()=>{e.onActiveChange(null)};return()=>{const p=k(k({},e),o),{prefixCls:w,selectable:K,checkable:M,disabled:L,motion:P,height:I,itemHeight:U,virtual:q,focusable:F,activeItem:R,focused:X,tabindex:V,onKeydown:ne,onFocus:Q,onBlur:ye,onListChangeStart:le,onListChangeEnd:ke}=p,re=St(p,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return E(Kn,null,[X&&R&&E("span",{style:xt,"aria-live":"assertive"},[eo(R)]),E("div",null,[E("input",{style:xt,disabled:F===!1||L,tabindex:F!==!1?V:null,onKeydown:ne,onFocus:Q,onBlur:ye,value:"",onChange:Zn,"aria-label":"for screen reader"},null)]),E("div",{class:`${w}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[E("div",{class:`${w}-indent`},[E("div",{ref:s,class:`${w}-indent-unit`},null)])]),E(un,ae(ae({},Ft(re,["onActiveChange"])),{},{data:m.value,itemKey:Ct,height:I,fullHeight:!1,virtual:q,itemHeight:U,prefixCls:`${w}-list`,ref:a,onVisibleChange:(z,de)=>{const G=new Set(z);de.filter(oe=>!G.has(oe)).some(oe=>Ct(oe)===we)&&h()}}),{default:z=>{const{pos:de}=z,G=St(z.data,[]),{title:Z,key:oe,isStart:ce,isEnd:be}=z,Ce=Pe(oe,de);return delete G.key,delete G.children,E(Jn,ae(ae({},G),{},{eventKey:Ce,title:Z,active:!!R&&oe===R.key,data:z.data,isStart:ce,isEnd:be,motion:P,motionNodes:oe===we?f.value:null,motionType:y.value,onMotionStart:le,onMotionEnd:h,onMousemove:C}),null)}})])}}});function no(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return E("div",{style:a},null)}const oo=10,$o=Ne({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:En(Tn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:no,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const s=H(!1);let l={};const v=H(),g=H([]),f=H([]),y=H([]),h=H([]),b=H([]),m=H([]),C={},p=It({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),w=H([]);xe([()=>e.treeData,()=>e.children],()=>{w.value=e.treeData!==void 0?tt(e.treeData).slice():Hn(tt(e.children))},{immediate:!0,deep:!0});const K=H({}),M=H(!1),L=H(null),P=H(!1),I=N(()=>st(e.fieldNames)),U=H();let q=null,F=null,R=null;const X=N(()=>({expandedKeysSet:V.value,selectedKeysSet:ne.value,loadedKeysSet:Q.value,loadingKeysSet:ye.value,checkedKeysSet:le.value,halfCheckedKeysSet:ke.value,dragOverNodeKey:p.dragOverNodeKey,dropPosition:p.dropPosition,keyEntities:K.value})),V=N(()=>new Set(m.value)),ne=N(()=>new Set(g.value)),Q=N(()=>new Set(h.value)),ye=N(()=>new Set(b.value)),le=N(()=>new Set(f.value)),ke=N(()=>new Set(y.value));Ke(()=>{if(w.value){const i=Vn(w.value,{fieldNames:I.value});K.value=k({[we]:qt},i.keyEntities)}});let re=!1;xe([()=>e.expandedKeys,()=>e.autoExpandParent,K],(i,d)=>{let[u,x]=i,[O,$]=d,S=m.value;if(e.expandedKeys!==void 0||re&&x!==$)S=e.autoExpandParent||!re&&e.defaultExpandParent?bt(e.expandedKeys,K.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const T=k({},K.value);delete T[we],S=Object.keys(T).map(j=>T[j].key)}else!re&&e.defaultExpandedKeys&&(S=e.autoExpandParent||e.defaultExpandParent?bt(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);S&&(m.value=S),re=!0},{immediate:!0});const z=H([]);Ke(()=>{z.value=Rn(w.value,m.value,I.value)}),Ke(()=>{e.selectable&&(e.selectedKeys!==void 0?g.value=gt(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(g.value=gt(e.defaultSelectedKeys,e)))});const{maxLevel:de,levelEntities:G}=Xn(K);Ke(()=>{if(e.checkable){let i;if(e.checkedKeys!==void 0?i=nt(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?i=nt(e.defaultCheckedKeys)||{}:w.value&&(i=nt(e.checkedKeys)||{checkedKeys:f.value,halfCheckedKeys:y.value}),i){let{checkedKeys:d=[],halfCheckedKeys:u=[]}=i;e.checkStrictly||({checkedKeys:d,halfCheckedKeys:u}=ot(d,!0,K.value,de.value,G.value)),f.value=d,y.value=u}}}),Ke(()=>{e.loadedKeys&&(h.value=e.loadedKeys)});const Z=()=>{k(p,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},oe=i=>{U.value.scrollTo(i)};xe(()=>e.activeKey,()=>{e.activeKey!==void 0&&(L.value=e.activeKey)},{immediate:!0}),xe(L,i=>{At(()=>{i!==null&&oe({key:i})})},{immediate:!0,flush:"post"});const ce=i=>{e.expandedKeys===void 0&&(m.value=i)},be=()=>{p.draggingNodeKey!==null&&k(p,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),q=null,R=null},Ce=(i,d)=>{const{onDragend:u}=e;p.dragOverNodeKey=null,be(),u==null||u({event:i,node:d.eventData}),F=null},Oe=i=>{Ce(i,null),window.removeEventListener("dragend",Oe)},ze=(i,d)=>{const{onDragstart:u}=e,{eventKey:x,eventData:O}=d;F=d,q={x:i.clientX,y:i.clientY};const $=fe(m.value,x);p.draggingNodeKey=x,p.dragChildrenKeys=An(x,K.value),v.value=U.value.getIndentWidth(),ce($),window.addEventListener("dragend",Oe),u&&u({event:i,node:O})},Ve=(i,d)=>{const{onDragenter:u,onExpand:x,allowDrop:O,direction:$}=e,{pos:S,eventKey:T}=d;if(R!==T&&(R=T),!F){Z();return}const{dropPosition:j,dropLevelOffset:D,dropTargetKey:_,dropContainerKey:B,dropTargetPos:ee,dropAllowed:ue,dragOverNodeKey:ie}=pt(i,F,d,v.value,q,O,z.value,K.value,V.value,$);if(p.dragChildrenKeys.indexOf(_)!==-1||!ue){Z();return}if(l||(l={}),Object.keys(l).forEach(te=>{clearTimeout(l[te])}),F.eventKey!==d.eventKey&&(l[S]=window.setTimeout(()=>{if(p.draggingNodeKey===null)return;let te=m.value.slice();const he=K.value[d.eventKey];he&&(he.children||[]).length&&(te=pe(m.value,d.eventKey)),ce(te),x&&x(te,{node:d.eventData,expanded:!0,nativeEvent:i})},800)),F.eventKey===_&&D===0){Z();return}k(p,{dragOverNodeKey:ie,dropPosition:j,dropLevelOffset:D,dropTargetKey:_,dropContainerKey:B,dropTargetPos:ee,dropAllowed:ue}),u&&u({event:i,node:d.eventData,expandedKeys:m.value})},Ge=(i,d)=>{const{onDragover:u,allowDrop:x,direction:O}=e;if(!F)return;const{dropPosition:$,dropLevelOffset:S,dropTargetKey:T,dropContainerKey:j,dropAllowed:D,dropTargetPos:_,dragOverNodeKey:B}=pt(i,F,d,v.value,q,x,z.value,K.value,V.value,O);p.dragChildrenKeys.indexOf(T)!==-1||!D||(F.eventKey===T&&S===0?p.dropPosition===null&&p.dropLevelOffset===null&&p.dropTargetKey===null&&p.dropContainerKey===null&&p.dropTargetPos===null&&p.dropAllowed===!1&&p.dragOverNodeKey===null||Z():$===p.dropPosition&&S===p.dropLevelOffset&&T===p.dropTargetKey&&j===p.dropContainerKey&&_===p.dropTargetPos&&D===p.dropAllowed&&B===p.dragOverNodeKey||k(p,{dropPosition:$,dropLevelOffset:S,dropTargetKey:T,dropContainerKey:j,dropTargetPos:_,dropAllowed:D,dragOverNodeKey:B}),u&&u({event:i,node:d.eventData}))},We=(i,d)=>{R===d.eventKey&&!i.currentTarget.contains(i.relatedTarget)&&(Z(),R=null);const{onDragleave:u}=e;u&&u({event:i,node:d.eventData})},qe=function(i,d){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var x;const{dragChildrenKeys:O,dropPosition:$,dropTargetKey:S,dropTargetPos:T,dropAllowed:j}=p;if(!j)return;const{onDrop:D}=e;if(p.dragOverNodeKey=null,be(),S===null)return;const _=k(k({},je(S,tt(X.value))),{active:((x=A.value)===null||x===void 0?void 0:x.key)===S,data:K.value[S].node});O.indexOf(S);const B=it(T),ee={event:i,node:He(_),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(O),dropToGap:$!==0,dropPosition:$+Number(B[B.length-1])};u||D==null||D(ee),F=null},Ie=(i,d)=>{const{expanded:u,key:x}=d,O=z.value.filter(S=>S.key===x)[0],$=He(k(k({},je(x,X.value)),{data:O.data}));ce(u?fe(m.value,x):pe(m.value,x)),me(i,$)},Xe=(i,d)=>{const{onClick:u,expandAction:x}=e;x==="click"&&Ie(i,d),u&&u(i,d)},Ue=(i,d)=>{const{onDblclick:u,expandAction:x}=e;(x==="doubleclick"||x==="dblclick")&&Ie(i,d),u&&u(i,d)},Te=(i,d)=>{let u=g.value;const{onSelect:x,multiple:O}=e,{selected:$}=d,S=d[I.value.key],T=!$;T?O?u=pe(u,S):u=[S]:u=fe(u,S);const j=K.value,D=u.map(_=>{const B=j[_];return B?B.node:null}).filter(_=>_);e.selectedKeys===void 0&&(g.value=u),x&&x(u,{event:"select",selected:T,node:d,selectedNodes:D,nativeEvent:i})},_e=(i,d,u)=>{const{checkStrictly:x,onCheck:O}=e,$=d[I.value.key];let S;const T={event:"check",node:d,checked:u,nativeEvent:i},j=K.value;if(x){const D=u?pe(f.value,$):fe(f.value,$),_=fe(y.value,$);S={checked:D,halfChecked:_},T.checkedNodes=D.map(B=>j[B]).filter(B=>B).map(B=>B.node),e.checkedKeys===void 0&&(f.value=D)}else{let{checkedKeys:D,halfCheckedKeys:_}=ot([...f.value,$],!0,j,de.value,G.value);if(!u){const B=new Set(D);B.delete($),{checkedKeys:D,halfCheckedKeys:_}=ot(Array.from(B),{halfCheckedKeys:_},j,de.value,G.value)}S=D,T.checkedNodes=[],T.checkedNodesPositions=[],T.halfCheckedKeys=_,D.forEach(B=>{const ee=j[B];if(!ee)return;const{node:ue,pos:ie}=ee;T.checkedNodes.push(ue),T.checkedNodesPositions.push({node:ue,pos:ie})}),e.checkedKeys===void 0&&(f.value=D,y.value=_)}O&&O(S,T)},Le=i=>{const d=i[I.value.key],u=new Promise((x,O)=>{const{loadData:$,onLoad:S}=e;if(!$||Q.value.has(d)||ye.value.has(d))return null;$(i).then(()=>{const j=pe(h.value,d),D=fe(b.value,d);S&&S(j,{event:"load",node:i}),e.loadedKeys===void 0&&(h.value=j),b.value=D,x()}).catch(j=>{const D=fe(b.value,d);if(b.value=D,C[d]=(C[d]||0)+1,C[d]>=oo){const _=pe(h.value,d);e.loadedKeys===void 0&&(h.value=_),x()}O(j)}),b.value=pe(b.value,d)});return u.catch(()=>{}),u},Ye=(i,d)=>{const{onMouseenter:u}=e;u&&u({event:i,node:d})},Me=(i,d)=>{const{onMouseleave:u}=e;u&&u({event:i,node:d})},Je=(i,d)=>{const{onRightClick:u}=e;u&&(i.preventDefault(),u({event:i,node:d}))},Qe=i=>{const{onFocus:d}=e;M.value=!0,d&&d(i)},Ae=i=>{const{onBlur:d}=e;M.value=!1,c(null),d&&d(i)},me=(i,d)=>{let u=m.value;const{onExpand:x,loadData:O}=e,{expanded:$}=d,S=d[I.value.key];if(P.value)return;u.indexOf(S);const T=!$;if(T?u=pe(u,S):u=fe(u,S),ce(u),x&&x(u,{node:d,expanded:T,nativeEvent:i}),T&&O){const j=Le(d);j&&j.then(()=>{}).catch(D=>{const _=fe(m.value,S);ce(_),Promise.reject(D)})}},Ze=()=>{P.value=!0},r=()=>{setTimeout(()=>{P.value=!1})},c=i=>{const{onActiveChange:d}=e;L.value!==i&&(e.activeKey!==void 0&&(L.value=i),i!==null&&oe({key:i}),d&&d(i))},A=N(()=>L.value===null?null:z.value.find(i=>{let{key:d}=i;return d===L.value})||null),W=i=>{let d=z.value.findIndex(x=>{let{key:O}=x;return O===L.value});d===-1&&i<0&&(d=z.value.length),d=(d+i+z.value.length)%z.value.length;const u=z.value[d];if(u){const{key:x}=u;c(x)}else c(null)},Y=N(()=>He(k(k({},je(L.value,X.value)),{data:A.value.data,active:!0}))),J=i=>{const{onKeydown:d,checkable:u,selectable:x}=e;switch(i.which){case $e.UP:{W(-1),i.preventDefault();break}case $e.DOWN:{W(1),i.preventDefault();break}}const O=A.value;if(O&&O.data){const $=O.data.isLeaf===!1||!!(O.data.children||[]).length,S=Y.value;switch(i.which){case $e.LEFT:{$&&V.value.has(L.value)?me({},S):O.parent&&c(O.parent.key),i.preventDefault();break}case $e.RIGHT:{$&&!V.value.has(L.value)?me({},S):O.children&&O.children.length&&c(O.children[0].key),i.preventDefault();break}case $e.ENTER:case $e.SPACE:{u&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?_e({},S,!le.value.has(L.value)):!u&&x&&!S.disabled&&S.selectable!==!1&&Te({},S);break}}}d&&d(i)};return a({onNodeExpand:me,scrollTo:oe,onKeydown:J,selectedKeys:N(()=>g.value),checkedKeys:N(()=>f.value),halfCheckedKeys:N(()=>y.value),loadedKeys:N(()=>h.value),loadingKeys:N(()=>b.value),expandedKeys:N(()=>m.value)}),Sn(()=>{window.removeEventListener("dragend",Oe),s.value=!0}),Nn({expandedKeys:m,selectedKeys:g,loadedKeys:h,loadingKeys:b,checkedKeys:f,halfCheckedKeys:y,expandedKeysSet:V,selectedKeysSet:ne,loadedKeysSet:Q,loadingKeysSet:ye,checkedKeysSet:le,halfCheckedKeysSet:ke,flattenNodes:z}),()=>{const{draggingNodeKey:i,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:x,dropPosition:O,dragOverNodeKey:$}=p,{prefixCls:S,showLine:T,focusable:j,tabindex:D=0,selectable:_,showIcon:B,icon:ee=o.icon,switcherIcon:ue,draggable:ie,checkable:te,checkStrictly:he,disabled:Ee,motion:et,loadData:Xt,filterTreeNode:Ut,height:Yt,itemHeight:Jt,virtual:Qt,dropIndicatorRender:Zt,onContextmenu:en,onScroll:tn,direction:nn,rootClassName:on,rootStyle:an}=e,{class:ln,style:rn}=n,sn=Bt(k(k({},e),n),{aria:!0,data:!0});let De;return ie?typeof ie=="object"?De=ie:typeof ie=="function"?De={nodeDraggable:ie}:De={}:De=!1,E(Dn,{value:{prefixCls:S,selectable:_,showIcon:B,icon:ee,switcherIcon:ue,draggable:De,draggingNodeKey:i,checkable:te,customCheckable:o.checkable,checkStrictly:he,disabled:Ee,keyEntities:K.value,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:x,dropPosition:O,dragOverNodeKey:$,dragging:i!==null,indent:v.value,direction:nn,dropIndicatorRender:Zt,loadData:Xt,filterTreeNode:Ut,onNodeClick:Xe,onNodeDoubleClick:Ue,onNodeExpand:me,onNodeSelect:Te,onNodeCheck:_e,onNodeLoad:Le,onNodeMouseEnter:Ye,onNodeMouseLeave:Me,onNodeContextMenu:Je,onNodeDragStart:ze,onNodeDragEnter:Ve,onNodeDragOver:Ge,onNodeDragLeave:We,onNodeDragEnd:Ce,onNodeDrop:qe,slots:o}},{default:()=>[E("div",{role:"tree",class:ge(S,ln,on,{[`${S}-show-line`]:T,[`${S}-focused`]:M.value,[`${S}-active-focused`]:L.value!==null}),style:an},[E(to,ae({ref:U,prefixCls:S,style:rn,disabled:Ee,selectable:_,checkable:!!te,motion:et,height:Yt,itemHeight:Jt,virtual:Qt,focusable:j,focused:M.value,tabindex:D,activeItem:A.value,onFocus:Qe,onBlur:Ae,onKeydown:J,onActiveChange:c,onListChangeStart:Ze,onListChangeEnd:r,onContextmenu:en,onScroll:tn},sn),null)])]})}}});var ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){lo(e,a,n[a])})}return e}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=function(t,n){var o=$t({},t,n.attrs);return E(Re,$t({},o,{icon:ao}),null)};dt.displayName="FileOutlined";dt.inheritAttrs=!1;var ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){io(e,a,n[a])})}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct=function(t,n){var o=Ot({},t,n.attrs);return E(Re,Ot({},o,{icon:ro}),null)};ct.displayName="MinusSquareOutlined";ct.inheritAttrs=!1;var so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){co(e,a,n[a])})}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut=function(t,n){var o=Et({},t,n.attrs);return E(Re,Et({},o,{icon:so}),null)};ut.displayName="PlusSquareOutlined";ut.inheritAttrs=!1;var uo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){fo(e,a,n[a])})}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(t,n){var o=Dt({},t,n.attrs);return E(Re,Dt({},o,{icon:uo}),null)};ft.displayName="CaretDownFilled";ft.inheritAttrs=!1;function Oo(e,t,n,o,a){const{isLeaf:s,expanded:l,loading:v}=n;let g=t;if(v)return E(xn,{class:`${e}-switcher-loading-icon`},null);let f;a&&typeof a=="object"&&(f=a.showLeafIcon);let y=null;const h=`${e}-switcher-icon`;return s?a?f&&o?o(n):(typeof a=="object"&&!f?y=E("span",{class:`${e}-switcher-leaf-line`},null):y=E(dt,{class:`${e}-switcher-line-icon`},null),y):null:(y=E(ft,{class:h},null),a&&(y=l?E(ct,{class:`${e}-switcher-line-icon`},null):E(ut,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?g=t(k(k({},n),{defaultIcon:y,switcherCls:h})):wn(g)&&(g=kn(g,{class:h})),g||y)}const vo=new Mt("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),yo=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),ho=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),po=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:s}=t,l=(s-t.fontSizeLG)/2,v=t.paddingXS;return{[n]:k(k({},Be(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:k({},at(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:vo,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:k({},at(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:k(k({},yo(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:v,marginBlockStart:l},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:k({lineHeight:`${s}px`,userSelect:"none"},ho(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},go=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},bo=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,s=t.controlHeightSM,l=Lt(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:s});return[po(e,l),go(l)]},Eo=_t("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Wt(`${n}-checkbox`,e)},bo(n,e),On(e)]});export{dt as F,$o as T,ht as V,ot as a,fe as b,Vn as c,pe as d,se as e,Eo as f,Hn as g,st as h,bt as i,Co as j,bo as k,Wt as l,Oo as r,Tn as t,Xn as u};
