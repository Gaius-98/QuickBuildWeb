import{bV as C,d as D,G as k,e as c,o as a,u as o,w as g,f as K,F as E,q as b,J as w,K as V,r as x,p as M,c as T,I as s,$ as J,M as R,A as u}from"./iconfont-DlnTACa0.js";import{C as U}from"./index-DWh7MMD2.js";import{a as j,_ as z}from"./index-BAbflK5K.js";import{v as H}from"./v4-CtRu48qb.js";import{C as O,_ as Q}from"./index-DB-FIVCb.js";import{s as f,g as h}from"./tools-BCD5ohFr.js";import{I as W,b as X}from"./index-DstlK8U5.js";import{S as Y,_ as Z}from"./RadioButton-CjVxn_Oc.js";import{D as oo}from"./dayjs-78fL9Suk.js";import{C as eo}from"./index-BZJkr9T5.js";import{_ as ro}from"./index-5aalWurl.js";import{I as ao}from"./index-8jXZgUEG.js";import{_ as to}from"./index-ib-wLQfr.js";import{_ as no,F as co}from"./index-3zxQoAaC.js";const bo={getList:t=>C({method:"get",url:"form/list",params:t}),getDetail:t=>C({method:"get",url:"form/detail",params:{id:t}}),remove:t=>C({method:"get",url:"form/remove",params:{id:t}}),add:t=>C({method:"post",url:"form/add",data:t}),update:t=>C({method:"post",url:"form/update",data:t}),getTemplate:t=>C({method:"get",url:"/form/template",params:{id:t}})},po=D({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:r}=k(_);return(l,m)=>{const P=U;return a(),c(P,{bodyStyle:{padding:0,"min-height":"40px"},title:o(n).controlProp.title,bordered:o(n).controlProp.bordered,hoverable:o(n).controlProp.hoverable},{default:g(()=>[K(L,{schema:o(n).controlProp.children,formData:o(r)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),lo=D({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:r}=k(_),l=E(()=>24/n.value.controlProp.colNumber);return(m,P)=>{const i=z,d=j;return a(),c(d,{gutter:o(n).controlProp.gutter},{default:g(()=>[(a(!0),b(w,null,V(o(n).controlProp.children,(y,v)=>(a(),c(i,{class:"gutter-col",span:l.value,key:v},{default:g(()=>[K(L,{schema:y,formData:o(r)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),so=D({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:r}=k(_),l=x(""),m=x(H());return n.value.controlProp.defaultExpanded.value&&(l.value=m.value),(P,i)=>{const d=Q,y=O;return a(),c(y,{activeKey:l.value,"onUpdate:activeKey":i[0]||(i[0]=v=>l.value=v),bordered:o(n).controlProp.bordered,ghost:o(n).controlProp.ghost},{default:g(()=>[(a(),c(d,{key:m.value,header:o(n).controlProp.title,showArrow:o(n).controlProp.showArrow},{default:g(()=>[K(L,{schema:o(n).controlProp.children,formData:o(r)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),L=D({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:r}=k(_),l=x([]),m=x({});(()=>{n.value.map(d=>{"dict"in d.controlProp&&l.value.push(d.controlProp.dict)})})();const i=()=>{l.value.length>0&&T.getDict(l.value).then(d=>{const{code:y,data:v,msg:F}=d;y==200&&l.value.map(I=>{m.value[I]=v[I]})})};return M(()=>{i()}),(d,y)=>{const v=ro,F=W,I=X,$=Y,q=Z,N=oo,S=ao,A=eo,B=to,G=no;return a(!0),b(w,null,V(o(n),e=>(a(),b(w,null,[["grid","card","collapse","divider"].includes(e.type)?(a(),b(w,{key:0},[e.type=="card"?(a(),c(po,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="grid"?(a(),c(lo,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="collapse"?(a(),c(so,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="divider"?(a(),c(v,u({key:3},e.controlProp,{key:e.name}),{default:g(()=>[J(R(e.controlProp.title),1)]),_:2},1040)):s("",!0)],64)):(a(),c(G,{label:e.formItemProp.label,name:e.formItemProp.name,key:e.name,required:e.formItemProp.required},{default:g(()=>[e.type=="input"?(a(),c(F,u({key:0,value:o(h)(o(r),e.formItemProp.name),onChange:p=>o(f)(o(r),e.formItemProp.name,p.target.value)},e.controlProp),null,16,["value","onChange"])):s("",!0),e.type=="textarea"?(a(),c(I,u({key:1,value:o(h)(o(r),e.formItemProp.name),onChange:p=>o(f)(o(r),e.formItemProp.name,p.target.value)},e.controlProp),null,16,["value","onChange"])):s("",!0),e.type=="select"?(a(),c($,u({key:2,value:o(h)(o(r),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:p=>o(f)(o(r),e.formItemProp.name,p)}),null,16,["value","options","onChange"])):s("",!0),e.type=="radio"?(a(),c(q,u({key:3,value:o(h)(o(r),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:p=>o(f)(o(r),e.formItemProp.name,p.target.value)}),null,16,["value","options","onChange"])):s("",!0),e.type=="date"?(a(),c(N,u({key:4,value:o(h)(o(r),e.formItemProp.name)},e.controlProp,{onChange:p=>o(f)(o(r),e.formItemProp.name,p)}),null,16,["value","onChange"])):s("",!0),e.type=="number"?(a(),c(S,u({key:5,value:o(h)(o(r),e.formItemProp.name)},e.controlProp,{onChange:p=>o(f)(o(r),e.formItemProp.name,p)}),null,16,["value","onChange"])):s("",!0),e.type=="checkbox"?(a(),c(A,u({key:6,value:o(h)(o(r),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:p=>o(f)(o(r),e.formItemProp.name,p)}),null,16,["value","options","onChange"])):s("",!0),e.type=="switch"?(a(),c(B,u({key:7,checked:o(h)(o(r),e.formItemProp.name)},e.controlProp,{onChange:p=>o(f)(o(r),e.formItemProp.name,p)}),null,16,["checked","onChange"])):s("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),wo=D({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:r}=k(_);return(l,m)=>{const P=co;return a(),c(P,u({model:o(r)},o(n).formConfig),{default:g(()=>[K(L,{formData:o(r),schema:o(n).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{wo as _,bo as a};
