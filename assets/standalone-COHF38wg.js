import"./modulepreload-polyfill-B5Qt9EMX.js";import{g,s as k,r as l,t as Q,o as d,v as h,l as $,w as M,i as f,x as I,k as z,h as E,y as P,A as R,B as S,C as b,D as A,E as w,F as G,G as L,H as q,I as N,m as V,p as W,J as F}from"./.pnpm-Car4yYfv.js";import{u as H}from"./dgDesign-Bh5mvrzb.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=12,U=8,j=g({__name:"StandalonePage",setup(c){const e=H(),{initDgItem:s,add:o}=e,{dgList:u}=k(e),a=l(),t=l(0),m=i=>{const r=s(i.dataTransfer.getData("material"));i.dataTransfer.getData("material");const _=i.x/(t.value/J),n=i.y/U;r.colStart=Math.floor(_),r.rowStart=Math.floor(n),o(r)};return Q(()=>{t.value=a.value.clientWidth}),(i,r)=>{const _=z("grid-layout");return d(),h("div",{class:"container",ref_key:"container",ref:a,onDragover:r[0]||(r[0]=I(()=>{},["prevent","stop"])),onDrop:I(m,["stop"])},[$(_,{list:f(u),class:"layout"},{"layout-item":M(({item:n})=>[(d(),E(P(n.component),{attrs:n.props,"style-config":n.style},null,8,["attrs","style-config"]))]),_:1},8,["list"])],544)}}}),K=y(j,[["__scopeId","data-v-cd38bd02"]]),X=g({__name:"QBChart",props:{attrs:{default:()=>({dataset:"",dimension:[],target:[]})},styleConfig:{default:()=>({})}},setup(c){const e=c,{attrs:s,styleConfig:o}=e,u=l(!0),a=l();let t;const m=l(0),i=l(""),r=l(),_=async()=>{i.value=s.dataset,r.value=[{title:"title1",value:100},{title:"title2",value:200},{title:"title3",value:300}]},n=()=>{const{dimension:C,target:v}=s,D=b(o.option),T=b(o.series),x=[];return v.forEach(it=>{x.push(A(T))}),D.series=x,{...D,dataset:{source:b(r.value),dimensions:[...C,...v]}}},B=()=>{i.value!=s.dataset?_().then(()=>{t?(t.clear(),t.setOption(n())):a.value&&(t=S(a.value),t.setOption(n()))}):t?(t.clear(),t.setOption(n())):a.value&&(t=S(a.value),t.setOption(n())),u.value=!1},O=new ResizeObserver(C=>{m.value&&clearTimeout(m.value),m.value=window.setTimeout(()=>{try{t.resize()}catch(v){console.warn(`chart重新设置大小失败,失败原因：${v}`)}},50)});return Q(()=>{B(),O.observe(a.value)}),R(()=>[e.attrs,e.styleConfig],()=>{B()},{deep:!0}),(C,v)=>(d(),h("div",{ref_key:"QBChart",ref:a,class:"qb-chart"},null,512))}}),Y=y(X,[["__scopeId","data-v-996b3f25"]]),Z={class:"qb-iframe"},tt=["src"],et=g({__name:"QBIframe",props:{attrs:{default:()=>({src:""})},preview:{type:Boolean,default:!1}},setup(c){const e=c,{attrs:s,preview:o}=w(e);return(u,a)=>(d(),h("div",Z,[G("iframe",{class:L(f(o)?"":"no-effect"),src:f(s).src,style:{width:"100%",height:"100%",border:"none"}},null,10,tt)]))}}),st=y(et,[["__scopeId","data-v-67323949"]]),at=["src"],ot=g({__name:"QBImage",props:{attrs:{default:()=>({src:""})},styleConfig:{default:()=>({})}},setup(c){const e=c,{attrs:s,styleConfig:o}=w(e);return(u,a)=>(d(),h("img",{class:"qb-image",style:q([{width:"100%",height:"100%"},f(o)]),src:f(s).src},null,12,at))}}),nt=y(ot,[["__scopeId","data-v-3b56b274"]]),rt=g({__name:"QBText",props:{attrs:{default:()=>({text:""})},styleConfig:{default:()=>({})}},setup(c){const e=c,{attrs:s}=w(e);return(o,u)=>(d(),h("div",{class:"qb-text",style:q(o.styleConfig)},N(f(s).text),5))}}),ct=y(rt,[["__scopeId","data-v-ad3a33fa"]]),p=V(K);p.use(W());p.component("qb-chart",Y);p.component("qb-iframe",st);p.component("qb-image",nt);p.component("qb-text",ct);p.component("GridLayout",F);p.mount("#standalone-app");
