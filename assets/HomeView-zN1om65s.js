var C=Object.defineProperty;var E=(l,t,e)=>t in l?C(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var s=(l,t,e)=>(E(l,typeof t!="symbol"?t+"":t,e),e);import{_ as L}from"./CodeEditor.vue_vue_type_script_setup_true_name_EvCode_lang-Bg36fRXy.js";import{_ as B,D as V}from"./ConfigForm.vue_vue_type_script_setup_true_lang-CMQx4y5M.js";import{V as j,g as I,r as a,o as i,y as D,l as c,w as p,h as m,B as d,M as G,R as M,L as u,F as P,I as T,H as A}from"./.pnpm-BfHkGPSW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";class F{constructor(t){s(this,"libs");s(this,"scripts",[]);s(this,"styles",[]);s(this,"componentsMap",new Map);s(this,"components",{});this.libs=t,this.init()}init(){window.Vue||(window.Vue=j),this.handleLibs(),this.handleUrls()}handleUrls(){this.libs.map(e=>e.urls).flat().forEach(e=>{e.endsWith("js")?this.scripts.push(e):e.endsWith("css")&&this.styles.push(e)})}load(){return new Promise((t,e)=>{Promise.allSettled([...this.styles.map(o=>this.loadStyle(o)),...this.scripts.map(o=>this.loadScript(o))]).then(()=>{this.registerComponents(),t(this.components)}).catch(o=>{e(o)})})}registerComponents(){for(const[t,e]of this.componentsMap)Array.isArray(e)?e.forEach(o=>{this.components[o.componentName]=window[t][o.exportName]}):this.components[e.componentName]=window[e.exportName]}handleLibChildren(t){const e=t.children.map(o=>({exportName:o.exportName,componentName:o.componentName}));this.componentsMap.set(t.exportName,e)}handleLibs(t=this.libs){t.forEach(e=>{this.isLibTree(e)?this.handleLibChildren(e):this.componentsMap.set(e.exportName,{exportName:e.exportName,componentName:e.componentName})})}isLibTree(t){return"children"in t}loadScript(t){return new Promise((e,o)=>{const n=document.createElement("script");n.src=t,n.async=!1,n.onload=e,n.onerror=o,document.body.appendChild(n)})}loadStyle(t){return new Promise((e,o)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=t,n.onload=e,n.onerror=o,document.head.appendChild(n)})}}const J=I({__name:"HomeView",setup(l){const t=a({}),e=a({input:{type:"input",label:"输入框"},select:{type:"select",label:"选择框"},arr:{type:"array",label:"数组",items:{title:{type:"input",label:"标题"}}},arr2:{type:"array",label:"数组",items:{test:{type:"input",label:"测试"}}},test:{type:"object",label:"测试对象",properties:{a:{type:"input",label:"a"},b:{type:"input",label:"b"}}}}),o=a({string:"配置表单",arr:[1,2,3,4],number:125654});a([{label:"1",value:"1"},{label:"2",value:"2"}]),a([{label:"icon-lock1",value:"1",title:"锁定"},{label:"icon-unlock1",value:"2",title:"解锁"}]);const n=a(!1),N=()=>{n.value=!0},g=()=>{new V(o.value).processObject(t.value)},w=a("测试");a({package:"ConfigInput",version:"",exportName:"",main:"",cdn:"",componentName:""});const x=[{title:"element",package:"element-plus",version:"1.0.2",exportName:"ElementPlus",urls:["https://cdn.jsdelivr.net/npm/element-plus@2.9.2/dist/index.full.min.js","https://cdn.jsdelivr.net/npm/element-plus@2.9.2/dist/index.min.css"],children:[{componentName:"ElButton",exportName:"ElButton"},{componentName:"ElInput",exportName:"ElInput"}]},{title:"",package:"drag-grid-layout-v3",version:"1.0.0",exportName:"drag-grid-layout-v3",children:[{componentName:"GridLayout",exportName:"GridLayout"}],urls:["https://cdn.jsdelivr.net/npm/drag-grid-layout-v3@0.0.4/lib/drag-grid-layout-v3.umd.js","https://cdn.jsdelivr.net/npm/drag-grid-layout-v3@0.0.4/lib/style.css"]}],h=a(),y=a(),v=a(),S=new F(x),_=a([{key:1,id:1,rowStart:1,colStart:1,rowSpan:20,colSpan:3,extra:{color:"red"}},{key:1,id:2,rowStart:2,colStart:4,rowSpan:40,colSpan:2,extra:{color:"blue"}},{key:1,id:3,rowStart:4,colStart:6,rowSpan:10,colSpan:5,extra:{color:"pink"}},{key:1,id:4,rowStart:5,colStart:1,rowSpan:30,colSpan:6,extra:{color:"green"}}]);return S.load().then(r=>{h.value=r.ElButton,y.value=r.ElInput,v.value=r.GridLayout}),(r,H)=>{const k=L,b=M;return i(),D(G,null,[c(k,{value:JSON.stringify(o.value,null,4),disabled:""},null,8,["value"]),c(B,{data:t.value,schema:e.value},null,8,["data","schema"]),c(b,{onClick:N},{default:p(()=>[u("配置项")]),_:1}),c(b,{onClick:g},{default:p(()=>[u("数据")]),_:1}),(i(),m(d(h.value),{type:"success"},{default:p(()=>[u("el")]),_:1})),(i(),m(d(y.value),{placeholder:"请输入内容",Value:w.value},null,8,["Value"])),(i(),m(d(v.value),{placeholder:"请输入内容",list:_.value},{"layout-item":p(({item:f})=>[P("div",{style:A({backgroundColor:f.extra.color,width:"100%",height:"100%"})},T(f),5)]),_:1},8,["list"]))],64)}}});export{J as default};
