import{S as c}from"./SchemaForm-Cr3wmFUc.js";import{_ as u}from"./CodeEditor.vue_vue_type_script_setup_true_name_EvCode_lang-CGheWtKI.js";import{g as p,r as a,I as v,o as d,y as g,l as n,i as y,F as h,J as _}from"./.pnpm-BIJ-Bq4G.js";import"./index-C7ludX-2.js";const S=_("h4",null,"JSONForm组件(将json数据格式转换为对应的form)",-1),O=p({__name:"HomeView",setup(b){const i=async(s,e)=>e===""?Promise.reject("Please input the password again"):e=="1"?Promise.reject("Two inputs don't match!"):Promise.resolve(),m=a(),l=a({layout:{labelAlign:"left",layout:"horizontal",labelCol:{span:2}},properties:{field:{type:"string",label:"字段名"},test:{type:"string",label:"测试",tooltip:"字段名等于test时不显示此项",show:"'${formData.field}' != 'test'",rules:[{validator:i,trigger:"change"}]},asyncData:{label:"异步加载数据",type:"select",component:{dataSource:[{label:"1",value:1},{label:"2",value:2}]}}}}),t=a("");t.value=JSON.stringify(l.value,null,4);const f=a("");v(()=>{try{l.value=JSON.parse(t.value)}catch(s){f.value=JSON.stringify(s)}});const r=a({field:"1",test:"测试",asyncData:1});return(s,e)=>(d(),g(h,null,[S,n(u,{value:t.value,"onUpdate:value":e[0]||(e[0]=o=>t.value=o),prepend:"组件配置"},null,8,["value"]),n(u,{value:JSON.stringify(r.value,null,4),prepend:"表单数据",height:80,disabled:""},null,8,["value"]),n(y(c),{schema:l.value,formData:r.value,"onUpdate:formData":e[1]||(e[1]=o=>r.value=o),ref_key:"form",ref:m},null,8,["schema","formData"])],64))}});export{O as default};
