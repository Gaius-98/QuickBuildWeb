import{r as z}from"./main-B5NllPLP.js";import{g as C,r as f,O as B,y as D,aC as M,o as u,t as v,l as e,ac as x,h as g,w as t,S as U,ag as N,M as V,T as w,D as i,H as l,L as n,aD as E,aE as P,aF as T,aA as j,aB as q}from"./.pnpm-Df0qOu1O.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./modulepreload-polyfill-B5Qt9EMX.js";const G={getSystemInfo:()=>z({method:"get",url:"systemInfo/all"})},H={key:0,class:"loading"},O={style:{display:"flex","align-items":"center","justify-content":"flex-start",height:"40px"}},$={style:{height:"40px","line-height":"40px"}},J={style:{height:"40px","line-height":"40px",margin:"5px 20px"}},K={style:{height:"40px","line-height":"40px"}},Q={class:"content"},R=C({__name:"SystemInfo",setup(W){const a=f({}),c=f(!0),S=B(()=>(a.value.load.currentLoadUser+a.value.load.currentLoadSystem).toFixed(2)),L=B(()=>(a.value.mem.available*100/a.value.mem.total).toFixed(2)),y=()=>{G.getSystemInfo().then(b=>{const{code:F,data:p,msg:r}=b;c.value=!1,F==200&&(a.value=p)})},h=f();return D(()=>{c.value=!0,y(),h.value=setInterval(()=>{y()},2e3)}),M(()=>{clearInterval(h.value)}),(b,F)=>{const p=U,r=E,s=N,d=P,I=T,o=j,m=q;return u(),v("div",null,[c.value?(u(),v("div",H,[e(p,{size:"large"})])):x("",!0),c.value?x("",!0):(u(),g(s,{key:1,title:"总览",style:{"margin-bottom":"10px"}},{default:t(()=>[e(I,{class:"content",gutter:10},{default:t(()=>[e(d,{span:3},{default:t(()=>[e(s,{title:"负载状态"},{default:t(()=>[e(r,{type:"circle",size:170,percent:a.value.load.currentLoad.toFixed(2)},null,8,["percent"])]),_:1})]),_:1}),e(d,{span:3},{default:t(()=>[e(s,{title:"CPU使用率"},{default:t(()=>[e(r,{type:"circle",size:170,percent:S.value},null,8,["percent"])]),_:1})]),_:1}),e(d,{span:3},{default:t(()=>[e(s,{title:"内存使用率"},{default:t(()=>[e(r,{type:"circle",size:170,percent:L.value},null,8,["percent"])]),_:1})]),_:1}),e(d,{span:15},{default:t(()=>[e(s,{title:"硬盘"},{default:t(()=>[e(I,{style:{"flex-direction":"column"}},{default:t(()=>[(u(!0),v(V,null,w(a.value.fsSiz,(_,k)=>(u(),g(d,{key:k,style:{"margin-top":"10px"}},{default:t(()=>[i("div",O,[i("div",$,l(_.fs),1),i("div",J,[e(r,{style:{"margin-bottom":"0"},percent:_.use,steps:10,size:[40,40]},null,8,["percent"])]),i("div",K," ("+l((_.used/(1024*1024*1024)).toFixed(2))+"/ "+l((_.size/(1024*1024*1024)).toFixed(2))+")GB ",1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),c.value?x("",!0):(u(),g(s,{key:2,title:"服务器信息"},{default:t(()=>[i("div",Q,[e(m,{title:"CPU",column:2},{default:t(()=>[e(o,{label:"品牌"},{default:t(()=>[n(l(a.value.cpu.brand),1)]),_:1}),e(o,{label:"核心数"},{default:t(()=>[n(l(a.value.cpu.cores),1)]),_:1}),e(o,{label:"制造商"},{default:t(()=>[n(l(a.value.cpu.vendor),1)]),_:1}),e(o,{label:"用户使用率"},{default:t(()=>[n(l(a.value.load.currentLoadUser.toFixed(2)+"%"),1)]),_:1}),e(o,{label:"系统使用率"},{default:t(()=>[n(l(a.value.load.currentLoadSystem.toFixed(2)+"%"),1)]),_:1}),e(o,{label:"当前空闲率"},{default:t(()=>[n(l(a.value.load.currentLoadIdle.toFixed(2)+"%"),1)]),_:1})]),_:1}),e(m,{title:"内存",column:2},{default:t(()=>[e(o,{label:"总内存"},{default:t(()=>[n(l((a.value.mem.total/(1024*1024)).toFixed(2))+"MB",1)]),_:1}),e(o,{label:"已用内存"},{default:t(()=>[n(l((a.value.mem.available/(1024*1024)).toFixed(2))+"MB",1)]),_:1}),e(o,{label:"剩余可用内存"},{default:t(()=>[n(l((a.value.mem.free/(1024*1024)).toFixed(2))+"MB",1)]),_:1}),e(o,{label:"使用率"},{default:t(()=>[n(l((a.value.mem.available*100/a.value.mem.total).toFixed(2))+"%",1)]),_:1})]),_:1}),e(m,{title:"系统信息",column:2},{default:t(()=>[e(o,{label:"操作系统"},{default:t(()=>[n(l(a.value.osInfo.platform),1)]),_:1}),e(o,{label:"架构"},{default:t(()=>[n(l(a.value.osInfo.arch),1)]),_:1}),e(o,{label:"服务器制造商"},{default:t(()=>[n(l(a.value.system.manufacturer),1)]),_:1}),e(o,{label:"服务器类型"},{default:t(()=>[n(l(a.value.system.model),1)]),_:1})]),_:1})])]),_:1}))])}}}),te=A(R,[["__scopeId","data-v-a4ed4e35"]]);export{te as default};
