import{b as T}from"./nodemodule-codemirror@6.0.1-CDdUixe0.js";import{l as g,o as z,S as E}from"./nodemodule-@codemirror_state@6.5.2-CeTbMir1.js";import{E as h,k as F,q as P}from"./nodemodule-@codemirror_view@6.36.3-NX7sJwro.js";import{i as V}from"./nodemodule-@codemirror_commands@6.8.0-CgqX80B-.js";import{i as W}from"./nodemodule-@codemirror_language@6.10.8-mNL4GyJL.js";import{d as R,i as M,q as k,b as A,m as d,x as I,h as q}from"./nodemodule-@vue_runtime-core@3.4.21-Cnn673wu.js";import{n as y,t as L}from"./nodemodule-@vue_reactivity@3.4.21-DbkE7Gi6.js";/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var N=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[T]}),$=Symbol("vue-codemirror-global-config"),a,G=function(t){var r=t.onUpdate,s=t.onChange,m=t.onFocus,f=t.onBlur,c=function(n,l){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&l.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(e=Object.getOwnPropertySymbols(n);i<e.length;i++)l.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(o[e[i]]=n[e[i]])}return o}(t,["onUpdate","onChange","onFocus","onBlur"]);return g.create({doc:c.doc,selection:c.selection,extensions:(Array.isArray(c.extensions)?c.extensions:[c.extensions]).concat([h.updateListener.of(function(n){r(n),n.docChanged&&s(n.state.doc.toString(),n),n.focusChanged&&(n.view.hasFocus?m(n):f(n))})])})},b=function(t){var r=new z;return{compartment:r,run:function(s){r.get(t.state)?t.dispatch({effects:r.reconfigure(s)}):t.dispatch({effects:E.appendConfig.of(r.of(s))})}}},O=function(t,r){var s=b(t),m=s.compartment,f=s.run;return function(c){var n=m.get(t.state);f(c??n!==r?r:[])}},v={type:Boolean,default:void 0},H={autofocus:v,disabled:v,indentWithTab:v,tabSize:Number,placeholder:String,style:Object,autoDestroy:v,phrases:Object,root:Object,extensions:Array,selection:Object},J={modelValue:{type:String,default:""}},K=Object.assign(Object.assign({},H),J);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(a||(a={}));var p={};p[a.Change]=function(t,r){return!0},p[a.Update]=function(t){return!0},p[a.Focus]=function(t){return!0},p[a.Blur]=function(t){return!0},p[a.Ready]=function(t){return!0};var j={};j[a.ModelUpdate]=p[a.Change];var Q=Object.assign(Object.assign({},p),j),X=R({name:"VueCodemirror",props:Object.assign({},K),emits:Object.assign({},Q),setup:function(t,r){var s=y(),m=y(),f=y(),c=Object.assign(Object.assign({},N),M($,{})),n=k(function(){var l={};return Object.keys(L(t)).forEach(function(o){var e;o!=="modelValue"&&(l[o]=(e=t[o])!==null&&e!==void 0?e:c[o])}),l});return A(function(){var l;m.value=G({doc:t.modelValue,selection:n.value.selection,extensions:(l=c.extensions)!==null&&l!==void 0?l:[],onFocus:function(e){return r.emit(a.Focus,e)},onBlur:function(e){return r.emit(a.Blur,e)},onUpdate:function(e){return r.emit(a.Update,e)},onChange:function(e,i){e!==t.modelValue&&(r.emit(a.Change,e,i),r.emit(a.ModelUpdate,e,i))}}),f.value=function(e){return new h(Object.assign({},e))}({state:m.value,parent:s.value,root:n.value.root});var o=function(e){var i=function(){return e.state.doc.toString()},S=b(e).run,x=O(e,[h.editable.of(!1),g.readOnly.of(!0)]),C=O(e,F.of([V])),U=b(e).run,w=b(e).run,D=b(e).run,B=b(e).run;return{focus:function(){return e.focus()},getDoc:i,setDoc:function(u){u!==i()&&e.dispatch({changes:{from:0,to:e.state.doc.length,insert:u}})},reExtensions:S,toggleDisabled:x,toggleIndentWithTab:C,setTabSize:function(u){U([g.tabSize.of(u),W.of(" ".repeat(u))])},setPhrases:function(u){w([g.phrases.of(u)])},setPlaceholder:function(u){D(P(u))},setStyle:function(u){u===void 0&&(u={}),B(h.theme({"&":Object.assign({},u)}))}}}(f.value);d(function(){return t.modelValue},function(e){e!==o.getDoc()&&o.setDoc(e)}),d(function(){return t.extensions},function(e){return o.reExtensions(e||[])},{immediate:!0}),d(function(){return n.value.disabled},function(e){return o.toggleDisabled(e)},{immediate:!0}),d(function(){return n.value.indentWithTab},function(e){return o.toggleIndentWithTab(e)},{immediate:!0}),d(function(){return n.value.tabSize},function(e){return o.setTabSize(e)},{immediate:!0}),d(function(){return n.value.phrases},function(e){return o.setPhrases(e||{})},{immediate:!0}),d(function(){return n.value.placeholder},function(e){return o.setPlaceholder(e)},{immediate:!0}),d(function(){return n.value.style},function(e){return o.setStyle(e)},{immediate:!0}),n.value.autofocus&&o.focus(),r.emit(a.Ready,{state:m.value,view:f.value,container:s.value})}),I(function(){n.value.autoDestroy&&f.value&&function(l){l.destroy()}(f.value)}),function(){return q("div",{class:"v-codemirror",style:{display:"contents"},ref:s})}}}),re=X;export{re as T};
