import"./SchemaForm-Dh9SLme4.js";import{g as u,r as a,v as f,P as m,Q as c,R as w,U as y,o as p,B as g,V as v,E as b,l as B,H as C}from"./.pnpm-DpKfdl5h.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D1y16s1V.js";const h=u({__name:"EventFlow",props:{dndList:{default:()=>[{type:"circle",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"}]},data:{}},setup(i,{expose:o}){const t=a(),n=a(),s=i,{dndList:l,data:A}=f(s);return m(()=>{c.use(w),c.use(y),t.value=new c({container:n.value,grid:!0}),t.value.extension.dndPanel.setPatternItems(l.value),t.value.render(A.value)}),o({getRawData:()=>{var r,e;return(r=t.value)==null||r.getEditConfig(),(e=t.value)==null?void 0:e.getGraphRawData()}}),(r,e)=>(p(),g("div",{class:"flow-container",ref_key:"container",ref:n},null,512))}}),R=G(h,[["__scopeId","data-v-002017ab"]]),U=u({__name:"HomeView",setup(i){const o=a(),t=a({nodes:[{id:"1",type:"rect",x:100,y:100,test:{a:1},properties:{test:"1"}},{id:"2",type:"circle",x:300,y:200}],edges:[{sourceNodeId:"1",targetNodeId:"2",type:"polyline"}]}),n=async(r,e)=>e===""?Promise.reject("Please input the password again"):e=="1"?Promise.reject("Two inputs don't match!"):Promise.resolve();a();const s=a({layout:{labelAlign:"left",layout:"horizontal",labelCol:{span:2}},properties:{field:{type:"string",label:"字段名"},test:{type:"string",label:"测试",tooltip:"字段名等于test时不显示此项",show:"'${formData.field}' != 'test'",rules:[{validator:n,trigger:"change"}]},asyncData:{label:"异步加载数据",type:"select",component:{dataSource:[{label:"1",value:1},{label:"2",value:2}]}}}}),l=a("");l.value=JSON.stringify(s.value,null,4);const A=a("");v(()=>{try{s.value=JSON.parse(l.value)}catch(r){A.value=JSON.stringify(r)}}),a({field:"1",test:"测试",asyncData:1});const d=()=>{o.value.getRawData()};return(r,e)=>(p(),g(C,null,[b("button",{onClick:e[0]||(e[0]=E=>d())},"查看数据"),B(R,{data:t.value,style:{width:"100%",height:"500px"},ref_key:"flow",ref:o},null,8,["data"])],64))}});export{U as default};
