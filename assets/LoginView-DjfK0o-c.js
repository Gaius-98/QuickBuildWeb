import{d as L,g as S,s as b,W as k,r as U,X as V,o as q,A as B,K as o,i as n,P as f,l as e,w as s,aK as M,a5 as N,a4 as T,aL as K,aM as O,aN as P,aO as R,aP as z,C as A,a2 as F,a3 as H,ag as I}from"./.pnpm-Bqj5ZitX.js";import{r as $,u as D,b as E,j as W}from"./index-Dcam5Uk9.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={login:d=>$({method:"post",url:"/auth/login",data:d}),getCaptcha:()=>L({baseURL:"/prod",method:"get",url:"/auth/captcha"})},G={class:"login"},J={class:"login-container"},Q={class:"login-form"},Y={class:"project-header"},Z=["src"],ee={class:"project-title"},te=["innerHTML"],se={class:"version"},ae=S({__name:"LoginView",setup(d){K(i=>({"11f9fd7d":n(y).colorPrimary}));const p=D(),{startUp:v}=p,{themeCfg:y,systemSetting:c,menuTree:w}=b(p),a=k({username:"test",password:"test",captcha:""}),_=()=>{h.login(a).then(i=>{const{code:t,data:l}=i;t==200&&(E.set(l),v().then(()=>{W(w.value[0])}))})},m=U(""),g=async()=>{const{data:i}=await h.getCaptcha();m.value=i};return V(()=>{g()}),(i,t)=>{const l=F,u=H,x=I,C=N,j=T;return q(),B("div",G,[o("div",{class:"login-bg",style:M({background:`url(${n(c).projectBgUrl})`,backgroundSize:"100% 100%"})},[o("div",J,[o("div",Q,[o("div",Y,[o("img",{src:n(c).projectLogo,alt:"",srcset:"",class:"project-logo"},null,8,Z),o("div",ee,f(n(c).projectName),1)]),e(C,{model:a,aligin:"left",hideRequiredMark:""},{default:s(()=>[e(u,{name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[e(l,{value:a.username,"onUpdate:value":t[0]||(t[0]=r=>a.username=r),placeholder:"请输入账号"},{prefix:s(()=>[e(n(O))]),_:1},8,["value"])]),_:1}),e(u,{name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[e(x,{value:a.password,"onUpdate:value":t[1]||(t[1]=r=>a.password=r),placeholder:"请输入密码"},{prefix:s(()=>[e(n(P))]),_:1},8,["value"])]),_:1}),e(u,{name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[e(l,{value:a.captcha,"onUpdate:value":t[3]||(t[3]=r=>a.captcha=r),placeholder:"请输入验证码",onKeyup:R(_,["enter"])},{prefix:s(()=>[e(n(z))]),addonAfter:s(()=>[o("div",{innerHTML:m.value,onClick:t[2]||(t[2]=r=>g()),style:{height:"100%"}},null,8,te)]),_:1},8,["value"])]),_:1})]),_:1},8,["model"]),e(j,{type:"primary","html-type":"submit",style:{width:"100%"},onClick:_},{default:s(()=>[A(" 登录 ")]),_:1})])]),o("div",se,f(n(c).projectVersion),1)],4)])}}}),ie=X(ae,[["__scopeId","data-v-e1fcf8bf"]]);export{ie as default};
