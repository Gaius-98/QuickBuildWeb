import{M as C,d as L,s as V,a0 as b,r as T,p as U,q,v as o,e,u as n,H as h,w as s,a3 as B,V as M,x as N,a4 as R,a5 as H,aP as O,aj as P,aQ as z,aR as A,aS as F,P as I,aT as K,o as $}from"./.pnpm-DVFE1QU-.js";import{u as D}from"./system-DXbSWXkE.js";import{a as E,u as Q,j as G}from"./iconfont-fCxWMeQn.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-CdZz0pkP.js";const f={login:p=>E({method:"post",url:"/auth/login",data:p}),getCaptcha:()=>C({baseURL:"/prod",method:"get",url:"/auth/captcha"})},W={class:"login"},X={class:"login-container"},Y={class:"login-form"},Z={class:"project-header"},ee=["src"],te={class:"project-title"},se=["innerHTML"],ae={class:"version"},oe=L({__name:"LoginView",setup(p){K(i=>({"10cf654e":n(y).colorPrimary}));const d=D(),{startUp:v}=d,{themeCfg:y,systemSetting:c,menuTree:w}=V(d),a=b({username:"test",password:"test",captcha:""}),{setToken:x}=Q(),_=()=>{f.login(a).then(i=>{const{code:t,data:l}=i;t==200&&(x(l),v().then(()=>{G(w.value[0])}))})},m=T(""),g=async()=>{const{data:i}=await f.getCaptcha();m.value=i};return U(()=>{g()}),(i,t)=>{const l=H,u=R,j=P,S=B,k=M;return $(),q("div",W,[o("div",{class:"login-bg",style:N({background:`url(${n(c).projectBgUrl})`,backgroundSize:"100% 100%"})},[o("div",X,[o("div",Y,[o("div",Z,[o("img",{src:n(c).projectLogo,alt:"",srcset:"",class:"project-logo"},null,8,ee),o("div",te,h(n(c).projectName),1)]),e(S,{model:a,aligin:"left",hideRequiredMark:""},{default:s(()=>[e(u,{name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[e(l,{value:a.username,"onUpdate:value":t[0]||(t[0]=r=>a.username=r),placeholder:"请输入账号"},{prefix:s(()=>[e(n(O))]),_:1},8,["value"])]),_:1}),e(u,{name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[e(j,{value:a.password,"onUpdate:value":t[1]||(t[1]=r=>a.password=r),placeholder:"请输入密码"},{prefix:s(()=>[e(n(z))]),_:1},8,["value"])]),_:1}),e(u,{name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[e(l,{value:a.captcha,"onUpdate:value":t[3]||(t[3]=r=>a.captcha=r),placeholder:"请输入验证码",onKeyup:A(_,["enter"])},{prefix:s(()=>[e(n(F))]),addonAfter:s(()=>[o("div",{innerHTML:m.value,onClick:t[2]||(t[2]=r=>g()),style:{height:"100%"}},null,8,se)]),_:1},8,["value"])]),_:1})]),_:1},8,["model"]),e(k,{type:"primary","html-type":"submit",style:{width:"100%"},onClick:_},{default:s(()=>[I(" 登录 ")]),_:1})])]),o("div",ae,h(n(c).projectVersion),1)],4)])}}}),ue=J(oe,[["__scopeId","data-v-e76ed62b"]]);export{ue as default};
