import{d as L}from"./dashboard-CDn7Cw0e.js";import{d as P,r,bf as G,p as Q,q as c,f as t,w as e,$ as l,v as W,e as d,u as f,ck as X,J as b,K as Y,H as Z,I as v,bj as tt,M as et,a as ot,cj as nt,o as s}from"./iconfont-DlnTACa0.js";import{C as at}from"./index-DWh7MMD2.js";import{F as st,_ as it}from"./index-3zxQoAaC.js";import{I as rt}from"./index-DstlK8U5.js";import{B as lt,E as pt}from"./EyeOutlined-MSEk9XoR.js";import{S as ct,I as _t,D as mt}from"./DeleteOutlined-WDiOh2q4.js";import{C as dt}from"./CopyOutlined-3xtYkmn1.js";import{T as ut}from"./index-CcL4KyIF.js";import{E as ft}from"./EditOutlined-BzQG90gc.js";import{a as yt,_ as kt}from"./index-BAbflK5K.js";import{_ as vt}from"./index-5aalWurl.js";import{_ as gt}from"./index-b8kqwElj.js";import{_ as ht,b as Ct}from"./index-C5YNH3Jl.js";import{_ as bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DFAyz8EE.js";import"./useFlexGapSupport-CiVQ43IU.js";import"./_getPrototype-CreJcRG-.js";import"./initDefaultProps-CCuNUPvT.js";import"./CheckOutlined-DhghRCOv.js";import"./index-CkgH7Yyy.js";import"./shallowequal-CYaRVoeZ.js";import"./index-Cj_T3PZy.js";import"./PlusOutlined-boFLuxir.js";import"./cloneDeep-eMWwQ7HD.js";import"./Col-7N7sU2gK.js";import"./css-CjeDAR7Q.js";import"./index-Df99mV5f.js";import"./pickAttrs-C_Pg0-pd.js";import"./LeftOutlined-DjA3wwZo.js";import"./RightOutlined-DiQ8sQL1.js";import"./index-BJM6GpkM.js";import"./ActionButton-GOh5bmF9.js";import"./index-C6qv0Jk3.js";import"./RadioButton-CjVxn_Oc.js";import"./index-DVHdQjvX.js";import"./useBreakpoint-BBubvWxm.js";import"./zh_CN-CAyhejr6.js";import"./index-BZJkr9T5.js";import"./dropdown-CS9IU7I3.js";const wt={class:"lowcode-dashboard"},xt={class:"tools"},It={key:1},$t={key:0,class:"contain"},Dt={key:0},Ft=P({__name:"DashboardList",setup(Nt){const g=nt(),S=r([{title:"仪表板id",key:"id",dataIndex:"id",ellipsis:!0},{title:"仪表板名称",key:"name",dataIndex:"name"},{title:"状态",key:"status",dataIndex:"status",width:100},{title:"备注",key:"remark",dataIndex:"remark",ellipsis:!0},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"操作",key:"action",dataIndex:"action",width:"250px"}]),_=G({keyword:"",pageNumber:1,pageSize:10}),y=r([]),w=r(0),x=r(!1),I=r(),V=()=>{var a;(a=I.value)==null||a.resetFields(),u()},j=()=>{ot.success("复制成功！")},k=r("visual"),q=()=>{k.value=="table"?k.value="visual":k.value="table"},u=()=>{x.value=!0,L.getList(_).then(a=>{const{code:o,data:m}=a;o==200&&(y.value=m.data,w.value=m.total),x.value=!1})},J=()=>{const a=g.resolve({path:"/design/dashboard"});window.open(a.href,"_blank")},$=a=>{const o=g.resolve({path:"/design/dashboard",query:{id:a}});window.open(o.href,"_blank")},D=a=>{L.remove(a).then(o=>{const{code:m}=o;m==200&&u()})};r(!1),r({}),r("");const F=a=>{const o=g.resolve({path:"/preview-dashboard",query:{id:a}});window.open(o.href,"_blank")};return Q(()=>{u()}),(a,o)=>{const m=rt,R=it,N=kt,p=lt,M=yt,U=st,h=at,z=X,T=_t,B=gt,E=ut,O=vt,A=ht,H=Ct,K=tt("copy");return s(),c("div",wt,[t(h,{class:"search-area"},{default:e(()=>[t(U,{ref_key:"searchFormRef",ref:I,model:_,onFinish:u},{default:e(()=>[t(M,{gutter:24},{default:e(()=>[t(N,{span:4},{default:e(()=>[t(R,{label:"仪表板名称",name:"keyword"},{default:e(()=>[t(m,{value:_.keyword,"onUpdate:value":o[0]||(o[0]=n=>_.keyword=n)},null,8,["value"])]),_:1})]),_:1}),t(N,{span:4,style:{"text-align":"right"}},{default:e(()=>[t(p,{type:"primary","html-type":"submit"},{default:e(()=>[l("搜索")]),_:1}),t(p,{style:{margin:"0 8px"},onClick:V},{default:e(()=>[l(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(h,null,{default:e(()=>[W("div",xt,[t(p,{type:"primary",onClick:J},{default:e(()=>[l("新增")]),_:1}),t(p,{onClick:q,type:"link",style:{float:"right"}},{default:e(()=>[t(f(ct))]),_:1})]),y.value.length===0?(s(),d(z,{key:0})):(s(),c("div",It,[k.value=="visual"?(s(),c("div",$t,[(s(!0),c(b,null,Y(y.value,n=>(s(),d(h,{hoverable:!0,key:n.id},{cover:e(()=>[t(T,{src:n.img,height:"130px"},null,8,["src"])]),actions:e(()=>[t(f(pt),{key:"view",title:"预览",onClick:i=>F(n.id)},null,8,["onClick"]),t(f(ft),{key:"edit",title:"编辑",onClick:i=>$(n.id)},null,8,["onClick"]),t(B,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:i=>D(n.id)},{default:e(()=>[t(f(mt),{key:"delete",title:"删除"})]),_:2},1032,["onConfirm"])]),_:2},1024))),128))])):(s(),d(A,{key:1,columns:S.value,"data-source":y.value,pagination:!1,scroll:{y:470}},{bodyCell:e(({column:n,record:i})=>[n.key=="id"?Z((s(),c("span",Dt,[l(et(i.id)+" ",1),t(f(dt),{style:{cursor:"pointer"},onClick:o[1]||(o[1]=C=>j())})])),[[K,i.id]]):v("",!0),n.key=="status"?(s(),c(b,{key:1},[i.status?(s(),d(E,{key:0,color:"#87d068"},{default:e(()=>[l("启用")]),_:1})):(s(),d(E,{key:1,color:"#f50"},{default:e(()=>[l("停用")]),_:1}))],64)):v("",!0),n.key=="action"?(s(),c(b,{key:2},[t(p,{type:"link",onClick:C=>F(i.id)},{default:e(()=>[l("预览")]),_:2},1032,["onClick"]),t(O,{type:"vertical"}),t(p,{type:"link",onClick:C=>$(i.id)},{default:e(()=>[l("编辑")]),_:2},1032,["onClick"]),t(O,{type:"vertical"}),t(B,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:C=>D(i.id)},{default:e(()=>[t(p,{type:"link",danger:""},{default:e(()=>[l("删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):v("",!0),n.key=="img"?(s(),d(T,{key:3,src:i.img,height:"100px",width:"100%"},null,8,["src"])):v("",!0)]),_:1},8,["columns","data-source"]))])),t(H,{style:{display:"flex","justify-content":"flex-end"},current:_.pageNumber,"onUpdate:current":o[2]||(o[2]=n=>_.pageNumber=n),total:w.value,"show-less-items":"",onChange:o[3]||(o[3]=n=>u())},null,8,["current","total"])]),_:1})])}}}),ye=bt(Ft,[["__scopeId","data-v-46a426c9"]]);export{ye as default};
