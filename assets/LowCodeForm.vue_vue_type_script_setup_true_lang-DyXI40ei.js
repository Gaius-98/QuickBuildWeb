import{a as D,c as O}from"./iconfont-D1HCqb49.js";import{g as E,y as T,w as M,O as Q,N as R,_ as U,I as j,u as z,e as H,k as J,K as W,n as X,P as Y,Q as Z,h as oo,F as eo}from"./nodemodule-ant-design-vue@4.1.2_vue@3.4.21-D4V-KPiA.js";import{d as C,a2 as c,L as r,aI as g,c as K,q as ao,K as b,F as w,O as F,b as ro,N as p,G as to,ak as u}from"./nodemodule-@vue_runtime-core@3.4.21-Cnn673wu.js";import{x as k,u as o,r as x}from"./nodemodule-@vue_reactivity@3.4.21-DbkE7Gi6.js";import{v as no}from"./nodemodule-uuid@9.0.1-CtRu48qb.js";import{s as f,g as h}from"./tools-BCD5ohFr.js";import{O as co}from"./nodemodule-@vue_shared@3.4.21-Ctf17_ps.js";const vo={getList:t=>D({method:"get",url:"form/list",params:t}),getDetail:t=>D({method:"get",url:"form/detail",params:{id:t}}),remove:t=>D({method:"get",url:"form/remove",params:{id:t}}),add:t=>D({method:"post",url:"form/add",data:t}),update:t=>D({method:"post",url:"form/update",data:t}),getTemplate:t=>D({method:"get",url:"/form/template",params:{id:t}})},lo=C({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:a}=k(_);return(s,m)=>{const v=E;return r(),c(v,{bodyStyle:{padding:0,"min-height":"40px"},title:o(n).controlProp.title,bordered:o(n).controlProp.bordered,hoverable:o(n).controlProp.hoverable},{default:g(()=>[K(L,{schema:o(n).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),so=C({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:a}=k(_),s=ao(()=>24/n.value.controlProp.colNumber);return(m,v)=>{const y=M,d=T;return r(),c(d,{gutter:o(n).controlProp.gutter},{default:g(()=>[(r(!0),b(w,null,F(o(n).controlProp.children,(i,P)=>(r(),c(y,{class:"gutter-col",span:s.value,key:P},{default:g(()=>[K(L,{schema:i,formData:o(a)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),po=C({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:a}=k(_),s=x(""),m=x(no());return n.value.controlProp.defaultExpanded.value&&(s.value=m.value),(v,y)=>{const d=R,i=Q;return r(),c(i,{activeKey:s.value,"onUpdate:activeKey":y[0]||(y[0]=P=>s.value=P),bordered:o(n).controlProp.bordered,ghost:o(n).controlProp.ghost},{default:g(()=>[(r(),c(d,{key:m.value,header:o(n).controlProp.title,showArrow:o(n).controlProp.showArrow},{default:g(()=>[K(L,{schema:o(n).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),L=C({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:a}=k(_),s=x([]),m=x({});(()=>{n.value.map(d=>{"dict"in d.controlProp&&s.value.push(d.controlProp.dict)})})();const y=()=>{s.value.length>0&&O.getDict(s.value).then(d=>{const{code:i,data:P,msg:N}=d;i==200&&s.value.map(I=>{m.value[I]=P[I]})})};return ro(()=>{y()}),(d,i)=>{const P=U,N=j,I=z,q=H,V=J,$=W,S=X,A=Y,B=Z,G=oo;return r(!0),b(w,null,F(o(n),e=>(r(),b(w,null,[["grid","card","collapse","divider"].includes(e.type)?(r(),b(w,{key:0},[e.type=="card"?(r(),c(lo,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="grid"?(r(),c(so,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="collapse"?(r(),c(po,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):p("",!0),e.type=="divider"?(r(),c(P,u({key:3},e.controlProp,{key:e.name}),{default:g(()=>[to(co(e.controlProp.title),1)]),_:2},1040)):p("",!0)],64)):(r(),c(G,{label:e.formItemProp.label,name:e.formItemProp.name,key:e.name,required:e.formItemProp.required},{default:g(()=>[e.type=="input"?(r(),c(N,u({key:0,value:o(h)(o(a),e.formItemProp.name),onChange:l=>o(f)(o(a),e.formItemProp.name,l.target.value)},e.controlProp),null,16,["value","onChange"])):p("",!0),e.type=="textarea"?(r(),c(I,u({key:1,value:o(h)(o(a),e.formItemProp.name),onChange:l=>o(f)(o(a),e.formItemProp.name,l.target.value)},e.controlProp),null,16,["value","onChange"])):p("",!0),e.type=="select"?(r(),c(q,u({key:2,value:o(h)(o(a),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:l=>o(f)(o(a),e.formItemProp.name,l)}),null,16,["value","options","onChange"])):p("",!0),e.type=="radio"?(r(),c(V,u({key:3,value:o(h)(o(a),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:l=>o(f)(o(a),e.formItemProp.name,l.target.value)}),null,16,["value","options","onChange"])):p("",!0),e.type=="date"?(r(),c($,u({key:4,value:o(h)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(f)(o(a),e.formItemProp.name,l)}),null,16,["value","onChange"])):p("",!0),e.type=="number"?(r(),c(S,u({key:5,value:o(h)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(f)(o(a),e.formItemProp.name,l)}),null,16,["value","onChange"])):p("",!0),e.type=="checkbox"?(r(),c(A,u({key:6,value:o(h)(o(a),e.formItemProp.name)},e.controlProp,{options:m.value[e.controlProp.dict],onChange:l=>o(f)(o(a),e.formItemProp.name,l)}),null,16,["value","options","onChange"])):p("",!0),e.type=="switch"?(r(),c(B,u({key:7,checked:o(h)(o(a),e.formItemProp.name)},e.controlProp,{onChange:l=>o(f)(o(a),e.formItemProp.name,l)}),null,16,["checked","onChange"])):p("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),yo=C({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(t){const _=t,{schema:n,formData:a}=k(_);return(s,m)=>{const v=eo;return r(),c(v,u({model:o(a)},o(n).formConfig),{default:g(()=>[K(L,{formData:o(a),schema:o(n).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{yo as _,vo as a};
