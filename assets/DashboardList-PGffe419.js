import{d as S}from"./dashboard-BUPMAJMi.js";import{d as Q,r as i,a0 as W,p as Y,q as c,e,w as t,a1 as Z,T as ee,a3 as te,az as ae,ax as ne,a4 as oe,a5 as se,U as le,O as r,v as ie,c as _,u as y,aF as re,aG as ue,P as x,X as ce,a6 as _e,a8 as k,ae as de,H as pe,as as me,a9 as ye,_ as fe,aa as ve,ai as ke,a7 as ge,aH as he,a as Ce,aA as we,o,aJ as xe,aK as be,aL as Ie}from"./.pnpm-CfU0UuIO.js";import{L as $e}from"./LowCodeTable-KJMJfdcp.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./iconfont-DbxD-LdR.js";import"./LowCodeFormId.vue_vue_type_script_setup_true_lang-DEM9RlQ5.js";import"./LowCodeForm.vue_vue_type_script_setup_true_lang-COGFK0ex.js";import"./tools-BCD5ohFr.js";import"./FlowExecutor-Bak0qDVj.js";const Fe={class:"lowcode-table"},Le={class:"tools"},Oe={key:1},Te={key:0,class:"contain"},Ne={key:0},Be=Q({__name:"DashboardList",setup(Ve){const b=we(),U=i([{title:"仪表板id",key:"id",dataIndex:"id",ellipsis:!0},{title:"仪表板名称",key:"name",dataIndex:"name"},{title:"状态",key:"status",dataIndex:"status",width:100},{title:"备注",key:"remark",dataIndex:"remark",ellipsis:!0},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"操作",key:"action",dataIndex:"action",width:"250px"}]),d=W({keyword:"",pageNumber:1,pageSize:10}),f=i([]),I=i(0),$=i(!1),D=i(),R=()=>{var s;(s=D.value)==null||s.resetFields(),m()},q=()=>{Ce.success("复制成功！")},v=i("visual"),z=()=>{v.value=="table"?v.value="visual":v.value="table"},m=()=>{$.value=!0,S.getList(d).then(s=>{const{code:n,data:p}=s;n==200&&(f.value=p.data,I.value=p.total),$.value=!1})},A=()=>{const s=b.resolve({path:"/design/dashboard"});window.open(s.href,"_blank")},F=s=>{const n=b.resolve({path:"/design/dashboard",query:{id:s}});window.open(n.href,"_blank")},L=s=>{S.remove(s).then(n=>{const{code:p}=n;p==200&&m()})},g=i(!1);i({});const h=i(""),O=s=>{g.value=!0,h.value=s};return Y(()=>{m()}),(s,n)=>{const p=se,H=oe,T=ne,u=le,J=ae,M=te,C=Z,P=ue,N=ke,B=ve,V=ye,E=fe,j=ge,G=he,K=ee,X=de("copy");return o(),c("div",Fe,[e(C,{class:"search-area"},{default:t(()=>[e(M,{ref_key:"searchFormRef",ref:D,model:d,onFinish:m},{default:t(()=>[e(J,{gutter:24},{default:t(()=>[e(T,{span:4},{default:t(()=>[e(H,{label:"仪表板名称",name:"keyword"},{default:t(()=>[e(p,{value:d.keyword,"onUpdate:value":n[0]||(n[0]=a=>d.keyword=a)},null,8,["value"])]),_:1})]),_:1}),e(T,{span:4,style:{"text-align":"right"}},{default:t(()=>[e(u,{type:"primary","html-type":"submit"},{default:t(()=>[r("搜索")]),_:1}),e(u,{style:{margin:"0 8px"},onClick:R},{default:t(()=>[r(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(C,null,{default:t(()=>[ie("div",Le,[e(u,{type:"primary",onClick:A},{default:t(()=>[r("新增")]),_:1}),e(u,{onClick:z,type:"link",style:{float:"right"}},{default:t(()=>[e(y(re))]),_:1})]),f.value.length===0?(o(),_(P,{key:0})):(o(),c("div",Oe,[v.value=="visual"?(o(),c("div",Te,[(o(!0),c(x,null,ce(f.value,a=>(o(),_(C,{hoverable:!0,key:a.id},{cover:t(()=>[e(N,{src:a.img,height:"130px"},null,8,["src"])]),actions:t(()=>[e(y(xe),{key:"view",title:"预览",onClick:l=>O(a.id)},null,8,["onClick"]),e(y(be),{key:"edit",title:"编辑",onClick:l=>F(a.id)},null,8,["onClick"]),e(B,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:l=>L(a.id)},{default:t(()=>[e(y(Ie),{key:"delete",title:"删除"})]),_:2},1032,["onConfirm"])]),_:2},1024))),128))])):(o(),_(j,{key:1,columns:U.value,"data-source":f.value,pagination:!1,scroll:{y:470}},{bodyCell:t(({column:a,record:l})=>[a.key=="id"?_e((o(),c("span",Ne,[r(pe(l.id)+" ",1),e(y(me),{style:{cursor:"pointer"},onClick:n[1]||(n[1]=w=>q())})])),[[X,l.id]]):k("",!0),a.key=="status"?(o(),c(x,{key:1},[l.status?(o(),_(V,{key:0,color:"#87d068"},{default:t(()=>[r("启用")]),_:1})):(o(),_(V,{key:1,color:"#f50"},{default:t(()=>[r("停用")]),_:1}))],64)):k("",!0),a.key=="action"?(o(),c(x,{key:2},[e(u,{type:"link",onClick:w=>O(l.id)},{default:t(()=>[r("预览")]),_:2},1032,["onClick"]),e(E,{type:"vertical"}),e(u,{type:"link",onClick:w=>F(l.id)},{default:t(()=>[r("编辑")]),_:2},1032,["onClick"]),e(E,{type:"vertical"}),e(B,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:w=>L(l.id)},{default:t(()=>[e(u,{type:"link",danger:""},{default:t(()=>[r("删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):k("",!0),a.key=="img"?(o(),_(N,{key:3,src:l.img,height:"100px",width:"100%"},null,8,["src"])):k("",!0)]),_:1},8,["columns","data-source"]))])),e(G,{style:{display:"flex","justify-content":"flex-end"},current:d.pageNumber,"onUpdate:current":n[2]||(n[2]=a=>d.pageNumber=a),total:I.value,"show-less-items":"",onChange:n[3]||(n[3]=a=>m())},null,8,["current","total"])]),_:1}),e(K,{open:g.value,"onUpdate:open":n[4]||(n[4]=a=>g.value=a),placement:"right",title:"预览",width:"1920px",height:"900px",footer:null},{default:t(()=>[(o(),_($e,{id:h.value,key:h.value},null,8,["id"]))]),_:1},8,["open"])])}}}),Me=De(Be,[["__scopeId","data-v-03b0fd3e"]]);export{Me as default};
